webpackJsonp([45,48],{363:function(e,t,r){var o=r(2)(r(692),r(427),null,null);e.exports=o.exports},427:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-col",{staticClass:"toolbar",attrs:{span:24}},[r("el-form",{attrs:{inline:!0}},[r("el-form-item",[r("el-select",{directives:[{name:"model",rawName:"v-model",value:e.rc_category,expression:"rc_category"}],attrs:{placeholder:"请选择分类"},domProps:{value:e.rc_category},on:{input:function(t){e.rc_category=t}}},[r("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),r("el-option",{attrs:{label:"通用[默认]",value:"0"}}),e._v(" "),r("el-option",{attrs:{label:"资讯",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"选手",value:"2"}})],1)],1),e._v(" "),r("el-form-item",[r("el-input",{directives:[{name:"model",rawName:"v-model",value:e.rc_keyword,expression:"rc_keyword"}],attrs:{placeholder:"请输入关键字"},domProps:{value:e.rc_keyword},on:{change:e.allList,input:function(t){e.rc_keyword=t}}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.getCommentList()}}},[e._v("查询")])],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.addComment()}}},[e._v("新增")])],1)],1)],1),e._v(" "),r("el-table",{attrs:{data:e.commentList}},[r("el-table-column",{attrs:{label:"序号",width:"80"},scopedSlots:{default:function(t){return[e._v("\n                "+e._s(t.$index+1+(e.pageNum-1)*e.pageSize)+"\n            ")]}}}),e._v(" "),r("el-table-column",{attrs:{label:"分类"},scopedSlots:{default:function(t){return[e._v("\n                "+e._s(0==t.row.rcCategory?"通用[默认]":1==t.row.rcCategory?"资讯":"选手")+"\n            ")]}}}),e._v(" "),r("el-table-column",{attrs:{label:"关键字",prop:"rcKeyword"}}),e._v(" "),r("el-table-column",{attrs:{label:"评论内容",prop:"rcContent","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{label:"创建时间",prop:"rcCreateTime"}}),e._v(" "),r("el-table-column",{attrs:{label:"备注",prop:"rcRemark"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:{default:function(t){return[r("el-button",{attrs:{type:"text"},on:{click:function(r){e.editComment(t.row)}}},[e._v("编辑")]),e._v(" "),r("el-button",{attrs:{type:"text"},on:{click:function(r){e.delectComment(t.row.rcId)}}},[e._v("删除")])]}}})],1),e._v(" "),r("el-col",{staticClass:"toolbar",attrs:{span:24}},[r("el-pagination",{attrs:{layout:"total,prev, pager, next,jumper",total:e.total},on:{"current-change":e.commentPage}})],1),e._v(" "),r("el-dialog",{directives:[{name:"model",rawName:"v-model",value:e.dialogVisible,expression:"dialogVisible"}],attrs:{title:"编辑"},domProps:{value:e.dialogVisible},on:{close:e.editCancel,input:function(t){e.dialogVisible=t}}},[r("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"100px",rules:e.editFormRule}},[r("el-form-item",{attrs:{label:"分类",prop:"rc_category"}},[r("el-radio-group",{directives:[{name:"model",rawName:"v-model",value:e.editForm.rc_category,expression:"editForm.rc_category"}],domProps:{value:e.editForm.rc_category},on:{input:function(t){e.editForm.rc_category=t}}},[r("el-radio",{attrs:{label:0}},[e._v("通用")]),e._v(" "),r("el-radio",{attrs:{label:1}},[e._v("资讯")]),e._v(" "),r("el-radio",{attrs:{label:2}},[e._v("选手")])],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"关键字"}},[r("el-input",{directives:[{name:"model",rawName:"v-model",value:e.editForm.rc_keyword,expression:"editForm.rc_keyword"}],domProps:{value:e.editForm.rc_keyword},on:{input:function(t){e.editForm.rc_keyword=t}}})],1),e._v(" "),r("el-form-item",{attrs:{label:"评论内容",prop:"rc_content"}},[r("el-input",{directives:[{name:"model",rawName:"v-model",value:e.editForm.rc_content,expression:"editForm.rc_content"}],attrs:{type:"textarea",rows:5},domProps:{value:e.editForm.rc_content},on:{input:function(t){e.editForm.rc_content=t}}})],1),e._v(" "),r("el-form-item",{attrs:{label:"备注"}},[r("el-input",{directives:[{name:"model",rawName:"v-model",value:e.editForm.rc_remark,expression:"editForm.rc_remark"}],domProps:{value:e.editForm.rc_remark},on:{input:function(t){e.editForm.rc_remark=t}}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",slot:"footer"},[r("el-button",{on:{click:e.editCancel}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.editSubmit}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},692:function(e,t,r){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(5),i=o(a);t.default={data:function(){return{dialogVisible:!1,rc_category:"",rc_keyword:"",commentList:[],pageNum:1,pageSize:10,total:0,editForm:{rc_id:"",rc_category:"",rc_keyword:"",rc_content:"",rc_remark:""},editFormRule:{rc_category:[{required:!0,message:"请选择分类"}],rc_content:[{required:!0,message:"请输入评论内容"}]}}},mounted:function(){this.getCommentList()},methods:{getCommentList:function(){var e=this;i.default.post({ext:"robot/comment/page",pageNum:this.pageNum,pageSize:this.pageSize,rc_category:this.rc_category,rc_keyword:this.rc_keyword}).then(function(t){1==t.data.code&&(e.commentList=t.data.data.list,e.total=t.data.data.total)})},allList:function(){this.rc_keyword||this.getCommentList()},addComment:function(){this.dialogVisible=!0,this.editForm={rc_id:"",rc_category:"",rc_keyword:"",rc_content:"",rc_remark:""}},editComment:function(e){this.dialogVisible=!0,this.editForm={rc_id:e.rcId,rc_category:e.rcCategory,rc_keyword:e.rcKeyword,rc_content:e.rcContent,rc_remark:e.rcRemark}},editSubmit:function(){var e=this;console.log(this.$refs.editForm),this.$refs.editForm.validate(function(t){t&&(""==e.editForm.rc_id?i.default.post({ext:"robot/comment/add",rc_category:e.editForm.rc_category,rc_keyword:e.editForm.rc_keyword,rc_content:e.editForm.rc_content,rc_remark:e.editForm.rc_remark}).then(function(t){1==t.data.code&&(e.$notify({title:"提示",message:"添加成功",type:"success"}),e.dialogVisible=!1,e.getCommentList())}):i.default.post({ext:"robot/comment/edit",rc_id:e.editForm.rc_id,rc_category:e.editForm.rc_category,rc_keyword:e.editForm.rc_keyword,rc_content:e.editForm.rc_content,rc_remark:e.editForm.rc_remark}).then(function(t){1==t.data.code&&(e.$notify({title:"提示",message:"编辑成功",type:"success"}),e.dialogVisible=!1,e.getCommentList())}))})},editCancel:function(){this.dialogVisible=!1,this.$refs.editForm.resetFields()},delectComment:function(e){var t=this;this.$confirm("您确定要删除评论?","提示",{confirmButttonText:"确定",cancelButtonText:"取消"}).then(function(){i.default.post({ext:"robot/comment/delete",ids:e}).then(function(e){1==e.data.code&&(t.$notify({title:"提示",message:"删除成功!",type:"success"}),t.getCommentList())})}).catch(function(){})},commentPage:function(e){this.pageNum=e,this.getCommentList()}}}}});
//# sourceMappingURL=45.6812b8b2d332dd709ba4.js.map