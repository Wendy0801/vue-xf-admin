webpackJsonp([41,48],{375:function(t,e,a){var r=a(2)(a(704),a(411),null,null);t.exports=r.exports},411:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",[a("el-select",{directives:[{name:"model",rawName:"v-model",value:t.tb_type,expression:"tb_type"}],attrs:{placeholder:"请选择类型"},domProps:{value:t.tb_type},on:{input:function(e){t.tb_type=e}}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"用户事件[默认]",value:"0"}}),t._v(" "),a("el-option",{attrs:{label:"定时刷内容",value:"1"}})],1)],1),t._v(" "),a("el-form-item",[a("el-select",{directives:[{name:"model",rawName:"v-model",value:t.tb_action,expression:"tb_action"}],attrs:{placeholder:"请选择行为"},domProps:{value:t.tb_action},on:{input:function(e){t.tb_action=e}}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),a("el-option",{attrs:{label:"点赞(一级评论)",value:"1"}}),t._v(" "),a("el-option",{attrs:{label:"点赞(二级评论)",value:"2"}}),t._v(" "),a("el-option",{attrs:{label:"关注",value:"3"}}),t._v(" "),a("el-option",{attrs:{label:"投票",value:"4"}}),t._v(" "),a("el-option",{attrs:{label:"评论资讯",value:"5"}}),t._v(" "),a("el-option",{attrs:{label:"评论选手",value:"6"}})],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.getRuleList()}}},[t._v("查询")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addRule()}}},[t._v("新增")])],1)],1)],1),t._v(" "),a("el-table",{attrs:{data:t.ruleList}},[a("el-table-column",{attrs:{label:"序号",width:"80"},scopedSlots:{default:function(e){return[t._v("\n                "+t._s(e.$index+1+(t.pageNum-1)*t.pageSize)+"\n            ")]}}}),t._v(" "),a("el-table-column",{attrs:{label:"类型"},scopedSlots:{default:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:0==e.row.tbType,expression:"scope.row.tbType==0"}]},[t._v("用户事件[默认]")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:1==e.row.tbType,expression:"scope.row.tbType==1"}]},[t._v("定时刷内容")])]}}}),t._v(" "),a("el-table-column",{attrs:{label:"执行任务"},scopedSlots:{default:function(e){return[a("span",{directives:[{name:"show",rawName:"v-show",value:1==e.row.tbAction,expression:"scope.row.tbAction==1"}]},[t._v("点赞(一级评论)")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:2==e.row.tbAction,expression:"scope.row.tbAction==2"}]},[t._v("点赞(二级评论)")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:3==e.row.tbAction,expression:"scope.row.tbAction==3"}]},[t._v("关注")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:4==e.row.tbAction,expression:"scope.row.tbAction==4"}]},[t._v("投票")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:5==e.row.tbAction,expression:"scope.row.tbAction==5"}]},[t._v("评论资讯")]),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:6==e.row.tbAction,expression:"scope.row.tbAction==6"}]},[t._v("评论选手")])]}}}),t._v(" "),a("el-table-column",{attrs:{label:"总数量(默认:10)",prop:"tbNumber"}}),t._v(" "),a("el-table-column",{attrs:{label:"间隔分钟(默认:3) ",prop:"tbInterval"}}),t._v(" "),a("el-table-column",{attrs:{label:"时间段"},scopedSlots:{default:function(e){return[t._v("\n                "+t._s(e.row.tbTimeStart+"-"+e.row.tbTimeEnd)+"\n            ")]}}}),t._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:{default:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.editRule(e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.deleteRule(e.row.tbId)}}},[t._v("删除")])]}}})],1),t._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-pagination",{attrs:{layout:"total,prev, pager, next,jumper",total:t.total},on:{"current-change":t.ruleCurrentChange}})],1),t._v(" "),a("el-dialog",{directives:[{name:"model",rawName:"v-model",value:t.dialogVisible,expression:"dialogVisible"}],attrs:{title:"编辑"},domProps:{value:t.dialogVisible},on:{close:t.editCancel,input:function(e){t.dialogVisible=e}}},[a("el-form",{ref:"editForm",attrs:{model:t.editForm,"label-width":"145px",rules:t.editFormRules}},[a("el-form-item",{attrs:{label:"类型",prop:"tb_type"}},[a("el-radio-group",{directives:[{name:"model",rawName:"v-model",value:t.editForm.tb_type,expression:"editForm.tb_type"}],domProps:{value:t.editForm.tb_type},on:{input:function(e){t.editForm.tb_type=e}}},[a("el-radio",{attrs:{label:0}},[t._v("用户事件[默认]")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("定时刷内容")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"执行任务",prop:"tb_action"}},[a("el-radio-group",{directives:[{name:"model",rawName:"v-model",value:t.editForm.tb_action,expression:"editForm.tb_action"}],domProps:{value:t.editForm.tb_action},on:{input:function(e){t.editForm.tb_action=e}}},[a("el-radio",{attrs:{label:1}},[t._v("点赞(一级评论)")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("点赞(二级评论)")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("关注")]),t._v(" "),a("el-radio",{attrs:{label:4}},[t._v("投票")]),t._v(" "),a("el-radio",{attrs:{label:5}},[t._v("评论资讯")]),t._v(" "),a("el-radio",{attrs:{label:6}},[t._v("评论选手")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"总数量(默认:10)",prop:"tb_number"}},[a("el-input",{directives:[{name:"model",rawName:"v-model",value:t.editForm.tb_number,expression:"editForm.tb_number"}],attrs:{placeholder:"请输入总数量"},domProps:{value:t.editForm.tb_number},on:{input:function(e){t.editForm.tb_number=e}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"间隔分钟(默认:3)",prop:"tb_interval"}},[a("el-input",{directives:[{name:"model",rawName:"v-model",value:t.editForm.tb_interval,expression:"editForm.tb_interval"}],attrs:{placeholder:"请输入间隔分钟"},domProps:{value:t.editForm.tb_interval},on:{input:function(e){t.editForm.tb_interval=e}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"开始时区",prop:"tb_time_start"}},[a("el-time-select",{directives:[{name:"model",rawName:"v-model",value:t.editForm.tb_time_start,expression:"editForm.tb_time_start"}],attrs:{placeholder:"选择时间","picker-options":{start:"00:00",step:"00:10",end:"24:00"}},domProps:{value:t.editForm.tb_time_start},on:{input:function(e){t.editForm.tb_time_start=e}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"结束时区",prop:"tb_time_end"}},[a("el-time-select",{directives:[{name:"model",rawName:"v-model",value:t.editForm.tb_time_end,expression:"editForm.tb_time_end"}],attrs:{placeholder:"选择时间","picker-options":{start:"00:00",step:"00:10",end:"24:00"}},domProps:{value:t.editForm.tb_time_end},on:{input:function(e){t.editForm.tb_time_end=e}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"开始日期",prop:"tb_date_start"}},[a("el-date-picker",{directives:[{name:"model",rawName:"v-model",value:t.editForm.tb_date_start,expression:"editForm.tb_date_start"}],attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd"},domProps:{value:t.editForm.tb_date_start},on:{change:t.dateStart,input:function(e){t.editForm.tb_date_start=e}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"结束日期",prop:"tb_date_end"}},[a("el-date-picker",{directives:[{name:"model",rawName:"v-model",value:t.editForm.tb_date_end,expression:"editForm.tb_date_end"}],attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd"},domProps:{value:t.editForm.tb_date_end},on:{change:t.dateEnd,input:function(e){t.editForm.tb_date_end=e}}})],1),t._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"tb_remark"}},[a("el-input",{directives:[{name:"model",rawName:"v-model",value:t.editForm.tb_remark,expression:"editForm.tb_remark"}],attrs:{placeholder:"请输入备注"},domProps:{value:t.editForm.tb_remark},on:{input:function(e){t.editForm.tb_remark=e}}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:t.editCancel}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.editorSubmit}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},704:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(5),i=r(o);e.default={data:function(){return{ruleList:[],tb_type:"",tb_action:"",dialogVisible:!1,pageNum:1,pageSize:10,total:0,editForm:{tb_id:"",tb_type:"",tb_action:"",tb_number:"",tb_interval:"",tb_time_start:"",tb_time_end:"",tb_date_start:"",tb_date_end:"",tb_remark:""},editFormRules:{tb_type:[{required:!0,message:"请选择类型"}],tb_action:[{required:!0,message:"请选择执行任务"}],tb_number:[{required:!0,message:"请输入总数量"}],tb_interval:[{required:!0,message:"请输入间隔"}],tb_time_start:[{required:!0,message:"请选择开始时间"}],tb_time_end:[{required:!0,message:"请选择结束时间"}],tb_date_start:[{required:!0,message:"请选择开始日期"}],tb_date_end:[{required:!0,message:"请选择结束日期"}],tb_remark:[{required:!0,message:"请输入备注"}]}}},mounted:function(){this.getRuleList()},methods:{getRuleList:function(){var t=this;i.default.post({ext:"robot/rule/page",pageNum:this.pageNum,pageSize:this.pageSize,tb_type:this.tb_type,tb_action:this.tb_action}).then(function(e){t.ruleList=e.data.data.list,t.total=e.data.data.total})},addRule:function(){this.dialogVisible=!0,this.editForm={tb_id:"",tb_type:"",tb_action:"",tb_number:"",tb_interval:"",tb_time_start:"",tb_time_end:"",tb_date_start:"",tb_date_end:"",tb_remark:""}},editRule:function(t){this.dialogVisible=!0,this.editForm={tb_id:t.tbId,tb_type:t.tbType,tb_action:t.tbAction,tb_number:t.tbNumber,tb_interval:t.tbInterval,tb_time_start:t.tbTimeStart,tb_time_end:t.tbTimeEnd,tb_date_start:t.tbDateStart,tb_date_end:t.tbDateEnd,tb_remark:t.tbRemark}},editorSubmit:function(){var t=this;this.$refs.editForm.validate(function(e){return e?void(""==t.editForm.tb_id?i.default.post({ext:"robot/rule/add",tb_type:t.editForm.tb_type,tb_action:t.editForm.tb_action,tb_number:t.editForm.tb_number,tb_interval:t.editForm.tb_interval,tb_time_start:t.editForm.tb_time_start,tb_time_end:t.editForm.tb_time_end,tb_date_start:t.editForm.tb_date_start,tb_date_end:t.editForm.tb_date_end,tb_remark:t.editForm.tb_remark}).then(function(e){1==e.data.code&&(t.$notify({type:"success",title:"成功",message:"添加成功"}),t.dialogVisible=!1,t.getRuleList())}):i.default.post({ext:"robot/rule/edit",tb_id:t.editForm.tb_id,tb_type:t.editForm.tb_type,tb_action:t.editForm.tb_action,tb_number:t.editForm.tb_number,tb_interval:t.editForm.tb_interval,tb_time_start:t.editForm.tb_time_start,tb_time_end:t.editForm.tb_time_end,tb_date_start:t.editForm.tb_date_start,tb_date_end:t.editForm.tb_date_end,tb_remark:t.editForm.tb_remark}).then(function(e){1==e.data.code&&(t.$notify({type:"success",title:"成功",message:"修改成功"}),t.dialogVisible=!1,t.getRuleList())})):(t.$alert("信息填写不完整!","提示",{confirmButtonText:"确定"}).catch(function(){}),!1)})},editCancel:function(){this.$refs.editForm.resetFields(),this.dialogVisible=!1},deleteRule:function(t){var e=this;this.$confirm("您确定要删除运营规则?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){i.default.post({ext:"robot/rule/delete",ids:t}).then(function(t){1==t.data.code&&(e.$notify({type:"success",title:"成功",message:"删除成功"}),e.dialogVisible=!1,e.getRuleList())})}).catch(function(){})},ruleCurrentChange:function(t){this.pageNum=t,this.getRuleList()},dateStart:function(t){this.editForm.tb_date_start=t},dateEnd:function(t){this.editForm.tb_date_end=t}}}}});
//# sourceMappingURL=41.216d668130c126c3bd7d.js.map