webpackJsonp([12,48],{260:function(t,e,i){e=t.exports=i(3)(),e.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",file:"videoContent.vue",sourceRoot:"webpack://"}])},306:function(t,e,i){var o=i(260);"string"==typeof o&&(o=[[t.id,o,""]]);i(4)(o,{});o.locals&&(t.exports=o.locals)},386:function(t,e,i){i(306);var o=i(2)(i(715),i(454),null,null);t.exports=o.exports},454:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",[i("el-col",{staticClass:"toolbar",attrs:{span:24}},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[i("el-input",{directives:[{name:"model",rawName:"v-model",value:t.vide_title,expression:"vide_title"}],attrs:{placeholder:"输入视频标题"},domProps:{value:t.vide_title},on:{change:t.allList,input:function(e){t.vide_title=e}}})],1),t._v(" "),i("el-form-item",[i("span",{staticClass:"demonstration"},[t._v("视频来源:")]),t._v(" "),i("el-select",{directives:[{name:"model",rawName:"v-model",value:t.acti_id,expression:"acti_id"}],attrs:{placeholder:"请选择视频来源"},domProps:{value:t.acti_id},on:{input:function(e){t.acti_id=e}}},[i("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),t._l(t.souceList,function(t){return i("el-option",{attrs:{label:t.actiTitle,value:t.actiId}})})],2)],1),t._v(" "),i("el-form-item",[i("span",{staticClass:"demonstration"},[t._v("视频标签:")]),t._v(" "),i("el-select",{directives:[{name:"model",rawName:"v-model",value:t.vide_type,expression:"vide_type"}],attrs:{placeholder:"请选择视频标签"},domProps:{value:t.vide_type},on:{input:function(e){t.vide_type=e}}},[i("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),i("el-option",{attrs:{label:"才艺视频",value:"1"}}),t._v(" "),i("el-option",{attrs:{label:"任务视频",value:"2"}})],1)],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.getVideoList}},[t._v("查询")])],1)],1)],1),t._v(" "),[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.videoList,stripe:""},on:{"selection-change":t.batchSelect}},[i("el-table-column",{attrs:{type:"selection"}}),t._v(" "),i("el-table-column",{attrs:{prop:"sequenceNumber",width:"100",label:"序号"}}),t._v(" "),i("el-table-column",{attrs:{prop:"videTitle",label:"视频标题",width:"200"}}),t._v(" "),i("el-table-column",{attrs:{prop:"videTypeName",label:"视频标签"}}),t._v(" "),i("el-table-column",{attrs:{prop:"source",label:"视频来源"}}),t._v(" "),i("el-table-column",{attrs:{prop:"playName",label:"发布者"}}),t._v(" "),i("el-table-column",{attrs:{context:t._self,label:"操作"},inlineTemplate:{render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){t.videoWatch(t.row)}}},[t._v("观看")]),t._v(" "),i("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){t.videoDel(t.row)}}},[t._v("删除")])],1)},staticRenderFns:[]}})],1)],t._v(" "),i("el-col",{staticClass:"toolbar",attrs:{span:24}},[i("el-button",{attrs:{type:"primary"},on:{click:t.batchDel}},[t._v("批量删除")]),t._v(" "),i("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"total, prev, pager, next,jumper",total:t.total,"page-size":10},on:{"current-change":t.videoCurrentChange}})],1),t._v(" "),i("el-dialog",{directives:[{name:"model",rawName:"v-model",value:t.editFormVisible,expression:"editFormVisible"}],attrs:{title:t.editFormTtile,"close-on-click-modal":!1},domProps:{value:t.editFormVisible},on:{input:function(e){t.editFormVisible=e}}},[i("el-form",{attrs:{model:t.editForm,"label-width":"80px"}},[i("el-form-item",[[i("video",{attrs:{src:t.editForm.videUrl,controls:"controls",autoplay:"autoplay"}})]],2)],1),t._v(" "),i("div",{staticClass:"dialog-footer",slot:"footer"},[i("el-button",{attrs:{type:"primary",loading:t.editLoading},nativeOn:{click:function(e){t.editFormVisible=!1}}},[t._v(t._s(t.btnEditText))])],1)],1)],2)},staticRenderFns:[]}},715:function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=i(5),l=o(a);e.default={name:"banner",data:function(){return{videoList:[],souceList:[],videoId:[],vide_title:"",acti_id:"",vide_type:"",total:0,pageNum:1,listLoading:!0,editFormVisible:!1,editFormTtile:"编辑",pSize:10,editForm:{videUrl:""},editLoading:!1,btnEditText:"确 定"}},computed:{},mounted:function(){this.getVideoList(),this.getSouceList()},methods:{getVideoList:function(){var t=this;l.default.post({ext:"ugc/video/page",pageNum:this.pageNum,pageSize:this.pSize,vide_title:this.vide_title,vide_type:this.vide_type,acti_id:this.acti_id}).then(function(e){t.videoList=e.data.data.list,t.total=e.data.data.total,t.listLoading=!1})},getSouceList:function(){var t=this;l.default.get({ext:"activity/readList"}).then(function(e){console.log(e.data),t.souceList=e.data.data})},allList:function(){this.vide_title||this.getVideoList()},videoWatch:function(t){this.editFormVisible=!0,this.editFormTtile="观看视频",this.editForm.videUrl=t.videUrl},videoDel:function(t){var e=this;1==t.videHomepage?this.$alert("您删除的视频已设置为主页视频,无法删除","提示",{confirmButtonText:"确定"}).catch(function(){}):this.$confirm("您确定要删除该视频?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){l.default.post({ext:"ugc/video/delete",ids:t.videId}).then(function(t){e.$notify({title:"成功",message:"操作成功",type:"success"}),e.getVideoList()})}).catch(function(){})},batchSelect:function(t){this.videoId=[];for(var e=0;e<t.length;e++)this.videoId.push(t[e].videId)},batchDel:function(){var t=this;if(this.videoId.length>0){var e=this.videoId.join(",");this.$confirm("您确定要删除视频","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){l.default.post({ext:"ugc/video/delete",ids:e}).then(function(e){t.$notify({title:"成功",message:"删除成功",type:"success"}),t.listLoading=!0,t.getVideoList()})}).catch(function(){})}else this.$confirm("请勾选您需要删除的视频","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).catch(function(){})},videoCurrentChange:function(t){this.pageNum=t,this.getVideoList()}}}}});
//# sourceMappingURL=12.af47b28ddf25e507dcc9.js.map