webpackJsonp([28,48],{235:function(e,t,i){t=e.exports=i(3)(),t.push([e.id,"","",{version:3,sources:[],names:[],mappings:"",file:"videoHomepage.vue",sourceRoot:"webpack://"}])},279:function(e,t,i){var a=i(235);"string"==typeof a&&(a=[[e.id,a,""]]);i(4)(a,{});a.locals&&(e.exports=a.locals)},387:function(e,t,i){i(279);var a=i(2)(i(716),i(419),null,null);e.exports=a.exports},419:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[i("el-tabs",{directives:[{name:"model",rawName:"v-model",value:e.activeName,expression:"activeName"}],domProps:{value:e.activeName},on:{"tab-click":e.changeTab,input:function(t){e.activeName=t}}},[i("el-tab-pane",{attrs:{label:"待设置视频",name:"first"}},[i("el-col",{staticClass:"toolbar",attrs:{span:24}},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[i("el-input",{directives:[{name:"model",rawName:"v-model",value:e.vide_title,expression:"vide_title"}],attrs:{placeholder:"输入视频关键字"},domProps:{value:e.vide_title},on:{change:e.allList,input:function(t){e.vide_title=t}}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.getVideoList}},[e._v("查询")])],1)],1)],1),e._v(" "),[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.videoList,stripe:""}},[i("el-table-column",{attrs:{prop:"sequenceNumber",width:"100",label:"序号"}}),e._v(" "),i("el-table-column",{attrs:{prop:"videTitle",label:"视频标题",width:"200"}}),e._v(" "),i("el-table-column",{attrs:{label:"视频标签"},scopedSlots:{default:function(t){return[e._v("\n                                "+e._s(1==t.row.videType?"才艺视频":"任务视频")+"\n                            ")]}}}),e._v(" "),i("el-table-column",{attrs:{prop:"source",label:"视频来源"}}),e._v(" "),i("el-table-column",{attrs:{prop:"playName",label:"发布者"}}),e._v(" "),i("el-table-column",{attrs:{context:e._self,label:"设为主页视频"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[i("el-button",{attrs:{size:"small",type:"text"},on:{click:function(t){e.setVideo(e.row)}}},[e._v("设为主页视频")])],1)},staticRenderFns:[]}})],1)]],2),e._v(" "),i("el-tab-pane",{attrs:{label:"已设置视频",name:"second"}},[i("el-col",{staticClass:"toolbar",attrs:{span:24}},[i("el-form",{attrs:{inline:!0}},[i("el-form-item",[i("el-input",{directives:[{name:"model",rawName:"v-model",value:e.vide_title,expression:"vide_title"}],attrs:{placeholder:"输入视频关键字"},domProps:{value:e.vide_title},on:{change:e.allList,input:function(t){e.vide_title=t}}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:e.getVideoList}},[e._v("查询")])],1)],1)],1),e._v(" "),[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.videoList,stripe:""}},[i("el-table-column",{attrs:{prop:"sequenceNumber",width:"100",label:"序号"}}),e._v(" "),i("el-table-column",{attrs:{prop:"videTitle",label:"视频标题",width:"200"}}),e._v(" "),i("el-table-column",{attrs:{prop:"playName",label:"发布者"}}),e._v(" "),i("el-table-column",{attrs:{label:"排序操作"},scopedSlots:{default:function(t){return[i("el-input",{attrs:{value:t.row.videSort},on:{focus:function(i){e.changeSort(t.row)}}})]}}}),e._v(" "),i("el-table-column",{attrs:{context:e._self,label:"操作"},inlineTemplate:{render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[i("el-button",{attrs:{type:"text"},on:{click:function(t){e.videoDisplay(e.row)}}},[e._v("移除")])],1)},staticRenderFns:[]}})],1)]],2)],1),e._v(" "),i("el-col",{staticClass:"toolbar",attrs:{span:24}},[i("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"total,prev, pager, next,jumper",total:e.total,"page-size":10},on:{"current-change":e.videoCurrentChange}})],1)],1)},staticRenderFns:[]}},716:function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(5),o=a(n);t.default={name:"banner",data:function(){return{activeName:"first",videoList:[],vide_title:"",vide_homepage:0,total:0,pageNum:1,listLoading:!0,pSize:10,userId:"",userName:""}},computed:{},mounted:function(){this.getVideoList(),this.getSessionID()},methods:{getSessionID:function(){var e=this;o.default.get({ext:"system/session/info",ss_id:sessionStorage.getItem("ssId")}).then(function(t){e.userId=t.data.data.ssUserId,e.userName=t.data.data.ssUserName})},getVideoList:function(){var e=this;o.default.post({ext:"homepage/video/page",pageNum:this.pageNum,pageSize:this.pSize,vide_title:this.vide_title,vide_homepage:this.vide_homepage}).then(function(t){console.log(t.data),e.videoList=t.data.data.list,e.total=t.data.data.total,e.listLoading=!1})},allList:function(){this.vide_title||this.getVideoList()},changeTab:function(e,t){console.log(e,t),0==e.index?(this.pageNum=1,this.vide_homepage=0,this.getVideoList()):(this.pageNum=1,this.vide_homepage=1,this.getVideoList())},setVideo:function(e){var t=this;console.log(e),this.$confirm("您确定设置为主页视频","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){o.default.put({ext:"homepage/video/vide_homepage",ids:e.videId,vide_homepage:1,user_id:t.userId,user_name:t.userName}).then(function(e){t.listLoading=!0,t.$notify({title:"成功",message:"操作成功",type:"success"}),t.getVideoList()})}).catch(function(){})},changeSort:function(e){var t=this;console.log(e),this.$prompt("请输入序列号","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(i){var a=i.value;return a?void o.default.put({ext:"homepage/video/vide_sort",ids:e.videId,vide_sort:a}).then(function(e){t.listLoading=!0,t.$notify({title:"成功",message:"操作成功",type:"success"}),t.getVideoList()}):(t.$alert("序列号不能为空","提示",{confirmButtonText:"确定"}).then(function(){}).catch(function(){}),!1)}).catch(function(){})},videoCurrentChange:function(e){this.pageNum=e,this.getVideoList()},videoDisplay:function(e){var t=this;this.$confirm("您确定要移除该视频","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){o.default.post({ext:"homepage/video/vide_homepage",ids:e.videId,vide_homepage:0,user_id:t.userId,user_name:t.userName}).then(function(e){t.listLoading=!0,t.$notify({title:"成功",message:"操作成功",type:"success"}),t.getVideoList()})}).catch(function(){})}}}}});
//# sourceMappingURL=28.51d1ad908d3a6b819951.js.map