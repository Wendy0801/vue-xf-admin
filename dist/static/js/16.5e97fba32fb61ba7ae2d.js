webpackJsonp([16,48],{253:function(t,e,n){e=t.exports=n(3)(),e.push([t.id,"","",{version:3,sources:[],names:[],mappings:"",file:"comment.vue",sourceRoot:"webpack://"}])},298:function(t,e,n){var o=n(253);"string"==typeof o&&(o=[[t.id,o,""]]);n(4)(o,{});o.locals&&(t.exports=o.locals)},364:function(t,e,n){n(298);var o=n(2)(n(693),n(445),null,null);t.exports=o.exports},445:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("el-col",{staticClass:"toolbar",attrs:{span:24}},[n("el-form",{attrs:{inline:!0}},[n("el-form-item",[n("el-input",{directives:[{name:"model",rawName:"v-model",value:t.contant,expression:"contant"}],attrs:{placeholder:"输入评论内容"},domProps:{value:t.contant},on:{change:t.allList,input:function(e){t.contant=e}}})],1),t._v(" "),n("el-form-item",[n("span",{staticClass:"demonstration"},[t._v("来源:")]),t._v(" "),n("el-select",{directives:[{name:"model",rawName:"v-model",value:t.source,expression:"source"}],attrs:{placeholder:"请选择视频来源"},domProps:{value:t.source},on:{input:function(e){t.source=e}}},[n("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),t._l(t.souceList,function(t){return n("el-option",{attrs:{label:t.source,value:t.source}})})],2)],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.getCommentList}},[t._v("查询")])],1)],1)],1),t._v(" "),[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.commentList,stripe:""},on:{"selection-change":t.batchSelect}},[n("el-table-column",{attrs:{type:"selection"}}),t._v(" "),n("el-table-column",{attrs:{prop:"sequenceNumber",width:"100",label:"序号"}}),t._v(" "),n("el-table-column",{attrs:{prop:"contant",label:"评论内容"}}),t._v(" "),n("el-table-column",{attrs:{prop:"source",label:"评论来源"}}),t._v(" "),n("el-table-column",{attrs:{prop:"target",label:"具体评论对象"}}),t._v(" "),n("el-table-column",{attrs:{prop:"username",label:"发布者"}}),t._v(" "),n("el-table-column",{attrs:{context:t._self,label:"操作"},inlineTemplate:{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){t.commentDel(t.row)}}},[t._v("删除")])],1)},staticRenderFns:[]}})],1)],t._v(" "),n("el-col",{staticClass:"toolbar",attrs:{span:24}},[n("el-button",{attrs:{type:"primary"},on:{click:t.batchDel}},[t._v("批量删除")]),t._v(" "),n("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"total, prev, pager, next,jumper",total:t.total,"page-size":10},on:{"current-change":t.commentCurrentChange}})],1)],2)},staticRenderFns:[]}},693:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(5),s=o(a);e.default={name:"banner",data:function(){return{commentList:[],commentId:[],souceList:[],contant:"",source:"",total:0,pageNum:1,pageSize:10,listLoading:!0}},computed:{},mounted:function(){this.getCommentList(),this.getSouceList()},methods:{getCommentList:function(){var t=this;s.default.post({ext:"ugc/comments/page",pageNum:this.pageNum,pageSize:this.pageSize,contant:this.contant,source:this.source}).then(function(e){t.commentList=e.data.data.list,t.total=e.data.data.total,t.listLoading=!1})},getSouceList:function(){var t=this;s.default.get({ext:"ugc/comments/source-list"}).then(function(e){console.log(e.data),t.souceList=e.data.data})},allList:function(){this.contant||this.getCommentList()},commentDel:function(t){var e=this;console.log(t),this.$confirm("您确定要删除该评论?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){s.default.post({ext:"ugc/comments/delete",ids:t.id}).then(function(t){e.$notify({title:"成功",message:"操作成功",type:"success"}),e.getCommentList()})}).catch(function(){})},batchSelect:function(t){this.commentId=[];for(var e=0;e<t.length;e++)this.commentId.push(t[e].id)},batchDel:function(){var t=this;if(this.commentId.length>0){var e=this.commentId.join(",");this.$confirm("您确定要删除评论?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){s.default.post({ext:"ugc/comments/delete",ids:e}).then(function(e){t.$notify({title:"成功",message:"删除成功",type:"success"}),t.listLoading=!0,t.getCommentList()})}).catch(function(){})}else this.$confirm("请勾选您需要删除的评论","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).catch(function(){})},commentCurrentChange:function(t){this.pageNum=t,this.getCommentList()}}}}});
//# sourceMappingURL=16.5e97fba32fb61ba7ae2d.js.map