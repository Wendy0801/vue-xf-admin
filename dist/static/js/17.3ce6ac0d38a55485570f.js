webpackJsonp([17,48],{252:function(t,e,a){e=t.exports=a(3)(),e.push([t.id,".user-face-row[data-v-b10e7862]{margin:10px 0}","",{version:3,sources:["/./src/pages/author-list/author-list.scss"],names:[],mappings:"AACA,gCAAgC,aAAa,CAC5C",file:"author-list.scss",sourcesContent:["\n.user-face-row[data-v-b10e7862]{margin:10px 0\n}\n"],sourceRoot:"webpack://"}])},297:function(t,e,a){var o=a(252);"string"==typeof o&&(o=[[t.id,o,""]]);a(4)(o,{});o.locals&&(t.exports=o.locals)},392:function(t,e,a){a(297);var o=a(2)(a(721),a(444),"data-v-b10e7862",null);t.exports=o.exports},444:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-col",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.authorList,border:""},on:{"selection-change":t.batchSelect}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",width:"80",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{label:"头像",prop:"createTime"},scopedSlots:{default:function(t){return[a("div",{staticClass:"user-face user-face-row"},[a("img",{attrs:{src:t.row.eavatar,alt:""}})])]}}}),t._v(" "),a("el-table-column",{attrs:{label:"发布者",prop:"ename"}}),t._v(" "),a("el-table-column",{staticClass:"action-col",attrs:{label:"操作"},scopedSlots:{default:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.goEditAuthor(e.row.eid)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticClass:"delete-btn",attrs:{size:"small",type:"text"},on:{click:function(a){t.deleteAuthor(e.row.eid)}}},[t._v("删除")])]}}})],1),t._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("el-button",{attrs:{type:"primary"},on:{click:t.batchDel}},[t._v("批量删除")]),t._v(" "),a("el-pagination",{attrs:{"current-page":t.pIndex,"page-size":t.pSize,layout:" prev, pager, next, jumper,total",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]}},721:function(t,e,a){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(5),s=o(n);e.default={data:function(){return{authorList:[],authorId:[],deleteIds:"",pIndex:1,pSize:10,total:0}},mounted:function(){this.getAuthorList()},methods:{getAuthorList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pSize;s.default.post({ext:"editor/page",pageNum:e,pageSize:a}).then(function(e){1===e.data.code&&(t.authorList=e.data.data.list,t.total=e.data.data.total)})},handleCurrentChange:function(t){this.getAuthorList(t)},goEditAuthor:function(t){this.$router.push({path:"/author-edit/"+t})},deleteAuthor:function(t){var e=this;return!!t&&void this.$confirm("确认删除吗?","提示",{type:"warning"}).then(function(){e.deleteIds=""+t,s.default.post({ext:"editor/delete",ids:e.deleteIds}).then(function(t){1===t.data.code&&(e.$notify({showClose:!0,type:"success",message:"删除成功!"}),e.deleteIds="",e.getAuthorList())})}).catch(function(){})},batchSelect:function(t){this.authorId=[];for(var e=0;e<t.length;e++)this.authorId.push(t[e].eid)},batchDel:function(){var t=this;if(this.authorId.length>0){var e=this.authorId.join(",");this.$confirm("您确定要删除发布者?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){s.default.post({ext:"editor/delete",ids:e}).then(function(e){t.$notify({title:"成功",message:"删除成功",type:"success"}),t.listLoading=!0,t.getAuthorList()})}).catch(function(){})}else this.$confirm("请勾选您需要删除的发布者","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).catch(function(){})}}}}});
//# sourceMappingURL=17.3ce6ac0d38a55485570f.js.map