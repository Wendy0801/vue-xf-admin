webpackJsonp([46,48],{362:function(t,e,n){var a=n(2)(n(691),n(440),null,null);t.exports=a.exports},440:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("el-col",{staticClass:"toolbar",attrs:{span:24}},[n("el-form",{attrs:{inline:!0}},[n("el-form-item",[n("el-input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{placeholder:"轮播标题"},domProps:{value:t.title},on:{change:t.allList,input:function(e){t.title=e}}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.getBannerList}},[t._v("查询")])],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.bannerAdd}},[t._v("新增")])],1)],1)],1),t._v(" "),[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.bannerList,stripe:""},on:{"selection-change":t.batchSelect}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),n("el-table-column",{attrs:{prop:"sequenceNumber",width:"100",label:"序号"}}),t._v(" "),n("el-table-column",{attrs:{prop:"caroDesc",label:"轮播标题","show-overflow-tooltip":""}}),t._v(" "),n("el-table-column",{attrs:{label:"缩略图",width:"150"},scopedSlots:{default:function(e){return[n("img",{staticClass:"preview-img",attrs:{src:e.row.caroCover,alt:""},on:{click:function(n){t.showPreview(e.$index)}}})]}}}),t._v(" "),n("el-table-column",{attrs:{prop:"caroUrl",label:"url","show-overflow-tooltip":""}}),t._v(" "),n("el-table-column",{attrs:{prop:"caroParams",label:"参数"}}),t._v(" "),n("el-table-column",{attrs:{prop:"caroSort",label:"排序管理"},scopedSlots:{default:function(e){return[n("el-input",{attrs:{value:e.row.caroSort},on:{focus:function(n){t.changeSort(e.row)}}})]}}}),t._v(" "),n("el-table-column",{attrs:{context:t._self,label:"操作"},inlineTemplate:{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("el-button",{attrs:{size:"small",type:"text"},on:{click:function(e){t.bannerEdit(t.row)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){t.bannerDel(t.row)}}},[t._v("删除")])],1)},staticRenderFns:[]}})],1)],t._v(" "),n("el-col",{staticClass:"toolbar",attrs:{span:24}},[n("el-button",{attrs:{type:"primary"},on:{click:t.batchDel}},[t._v("批量删除")]),t._v(" "),n("el-pagination",{staticStyle:{float:"right"},attrs:{layout:"total,prev, pager, next,jumper",total:t.total,"page-size":10},on:{"current-change":t.bannerCurrentChange}})],1)],2)},staticRenderFns:[]}},691:function(t,e,n){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(5),i=a(o);e.default={name:"banner",data:function(){return{abc:"",bannerList:[],bannerId:[],title:"",total:0,pageNum:1,listLoading:!0,pSize:10,imgList:[]}},computed:{},mounted:function(){this.getBannerList()},methods:{getBannerList:function(){var t=this;i.default.post({ext:"homepage/carouse/page",pageNum:this.pageNum,pageSize:this.pSize,title:this.title}).then(function(e){t.bannerList=e.data.data.list,t.total=e.data.data.total,t.listLoading=!1,t.bannerList.map(function(e){t.imgList.push(e.caroCover)})})},allList:function(){this.title||this.getBannerList()},bannerAdd:function(){this.$store.commit("SETBANNERTITLE",""),this.$store.commit("SETBANNERTYPE",""),this.$store.commit("SETBANNERADMASTERTYPE",""),this.$store.commit("SETBANNEREXPOUSREADDRESS",""),this.$router.push({path:"/bannerEdit"})},bannerEdit:function(t){this.$router.push({path:"/bannerEdit/"+t.caroId})},bannerDel:function(t){var e=this;this.$confirm("您确定要删除该轮播?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){i.default.post({ext:"homepage/carouse/delete",ids:t.caroId}).then(function(t){e.$notify({title:"成功",message:"删除成功",type:"success"}),e.listLoading=!0,e.getBannerList()})}).catch(function(){})},batchSelect:function(t){this.bannerId=[];for(var e=0;e<t.length;e++)this.bannerId.push(t[e].caroId)},batchDel:function(){var t=this;if(this.bannerId.length>0){var e=this.bannerId.join(",");this.$confirm("您确定要删除该轮播?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){i.default.post({ext:"homepage/carouse/delete",ids:e}).then(function(e){t.$notify({title:"成功",message:"删除成功",type:"success"}),t.listLoading=!0,t.getBannerList()})}).catch(function(){})}else this.$confirm("请勾选您需要删除的轮播图","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).catch(function(){})},bannerCurrentChange:function(t){this.pageNum=t,this.getBannerList()},changeSort:function(t){var e=this;this.$prompt("请输入序列号","提示",{confimButtonText:"确定",cancelButtonText:"取消"}).then(function(n){var a=n.value;return a?void i.default.put({ext:"homepage/carouse/caro_sort",ids:t.caroId,caro_sort:a}).then(function(){e.$notify({title:"成功",message:"操作成功",type:"success"}),e.listLoading=!0,e.getBannerList()}):(e.$alert("序列号不能为空","提示",{confirmButtonText:"确定"}).then(function(){}).catch(function(){}),!1)}).catch(function(){})},showPreview:function(t){function e(){i.$preview.open(t,a)}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.imgList,a=[],o=0,i=this;n.map(function(t,i){var r=new Image;r.src=t,r.onload=function(){o++,a.push({src:t,w:r.width,h:r.height}),o===n.length&&e()},r.onerror=function(){o++,a.splice(i,0,{src:"/static/images/default1.jpg",w:100,h:100}),o===n.length&&e()}})}}}}});
//# sourceMappingURL=46.2a191f0f4fcb874d3dac.js.map