{"version":3,"sources":["webpack:///static/js/6.dffcabcae01b980b7de8.js","webpack:///./src/components/ImgUploader.vue?accf*****","webpack:///./src/components/ImgUploader.vue?aebf*****","webpack:///./src/components/ImgUploader.vue?daba****","webpack:///./src/components/ImgUploader.vue?f8b7*****","webpack:///ImgUploader.vue?58d6****","webpack:///./src/pages.guo/advert/advert.scss","webpack:///./src/pages.guo/advert/advert.scss?f981","webpack:///./src/pages.guo/advert/advertEdit.vue","webpack:///./src/pages.guo/advert/advertEdit.vue?fdb2","webpack:///advertEdit.vue"],"names":["webpackJsonp","19","module","exports","__webpack_require__","push","id","version","sources","names","mappings","file","sourcesContent","sourceRoot","20","content","locals","21","Component","22","render","_vm","this","_h","$createElement","_c","_self","attrs","action","uploadUrl","data","uploadImgData","name","on-success","onSuccess","before-upload","checkData","size","type","_v","_s","btnText","staticRenderFns","28","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_promise","_promise2","qiniuImgUrl","qnImgUrl","token","props","watch","initConfig","mounted","methods","_this","resolve","reject","limit","reader","FileReader","readAsDataURL","onload","e","img","Image","src","target","result","console","log","width","height","$emit","_imgUrl","key","236","280","360","420","staticClass","ref","model","editForm","label-width","rules","editFormRules","label","prop","directives","rawName","expression","domProps","on","input","$event","ba_name","ba_image","alt","uptoken","domain","uploadSuccess","onSizeError","sizeError","ba_sort","placeholder","change","changeType","ba_business","_l","item","changeAdmasterType","ba_admaster_type","ba_expousre_address","ba_url","ba_params","actiTitle","actiId","slot","click","editSumbit","689","_api","_api2","_ImgUploader","_ImgUploader2","activityIdList","admasterType","baBusiness","baType","getUploadUrl","ba_id","required","message","trigger","components","img-uploader","getEditerList","getActivityId","$route","params","advertEdit","editorUpload","get","ext","then","res","body","_this2","baId","baName","baImage","baSort","baUrl","baParams","baAdmasterType","baExpousreAddress","_this3","_this4","editerList","_this5","$refs","validate","valid","post","code","$notify","title","$router","path","msg","put","$alert","confirmButtonText","catch","advertDel","ids","_this6","$confirm","cancelButtonText","listLoading","getAvertList","batchSelect","checkList","avertId","i","length","batchDel","join","UploadImgSucess","response","fileList","url","advertCurrentChange","val","pageNum","showPreview","index","_configPreview","self","$preview","open","_dealList","imgList","arguments","undefined","_loadedCount","map","_img","w","h","onerror","splice"],"mappings":"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","file":"static/js/6.dffcabcae01b980b7de8.js","sourcesContent":["webpackJsonp([6,48],{\n\n/***/ 19:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(3)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".el-upload{margin-top:12px}\", \"\", {\"version\":3,\"sources\":[\"/./src/components/ImgUploader.vue\"],\"names\":[],\"mappings\":\"AACA,WACE,eAAiB,CAClB\",\"file\":\"ImgUploader.vue\",\"sourcesContent\":[\"\\n.el-upload{\\n  margin-top: 12px;\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 20:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(19);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(4)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../node_modules/.0.26.1@css-loader/index.js?sourceMap!./../../node_modules/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-ac21f8c2!./../../node_modules/.10.3.0@vue-loader/lib/selector.js?type=styles&index=0!./ImgUploader.vue\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../node_modules/.0.26.1@css-loader/index.js?sourceMap!./../../node_modules/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-ac21f8c2!./../../node_modules/.10.3.0@vue-loader/lib/selector.js?type=styles&index=0!./ImgUploader.vue\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 21:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(20)\n\t\n\tvar Component = __webpack_require__(2)(\n\t  /* script */\n\t  __webpack_require__(28),\n\t  /* template */\n\t  __webpack_require__(22),\n\t  /* scopeId */\n\t  null,\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ },\n\n/***/ 22:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', [_c('el-upload', {\n\t    attrs: {\n\t      \"action\": _vm.uploadUrl,\n\t      \"data\": _vm.uploadImgData,\n\t      \"name\": 'file',\n\t      \"on-success\": _vm.onSuccess,\n\t      \"before-upload\": _vm.checkData\n\t    }\n\t  }, [_c('el-button', {\n\t    attrs: {\n\t      \"size\": \"small\",\n\t      \"type\": \"primary\"\n\t    }\n\t  }, [_vm._v(_vm._s(_vm.btnText))])], 1)], 1)\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 28:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _promise = __webpack_require__(36);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      uploadUrl: 'http://up-z2.qiniu.com/',\n\t      qiniuImgUrl: this.qnImgUrl,\n\t      uploadImgData: {\n\t        token: ''\n\t      }\n\t    };\n\t  },\n\t\n\t  props: ['btnText', 'token', 'limit', 'qnImgUrl'],\n\t  watch: {\n\t    'token': function token() {\n\t      if (this.token && this.token !== '') {\n\t        this.initConfig();\n\t      }\n\t    }\n\t  },\n\t  mounted: function mounted() {},\n\t\n\t  methods: {\n\t    initConfig: function initConfig() {\n\t      this.uploadImgData = {\n\t        token: this.token\n\t      };\n\t    },\n\t    checkData: function checkData(file) {\n\t      var _this = this;\n\t\n\t      return new _promise2.default(function (resolve, reject) {\n\t        if (_this.limit) {\n\t          var reader = new FileReader();\n\t          reader.readAsDataURL(file);\n\t          reader.onload = function (e) {\n\t            var img = new Image();\n\t            img.src = e.target.result;\n\t            console.log(img.src);\n\t            img.onload = function (e) {\n\t              console.log(img.width, img.height);\n\t              console.log(_this.limit.width, _this.limit.height);\n\t              if (img.width <= _this.limit.width && img.height <= _this.limit.height) {\n\t                resolve(true);\n\t              } else {\n\t                _this.$emit('onSizeError', '图片尺寸不符合规范');\n\t                reject('图片尺寸不符合规范');\n\t              }\n\t            };\n\t          };\n\t        } else {\n\t          resolve(true);\n\t        }\n\t      });\n\t    },\n\t    onSuccess: function onSuccess(data) {\n\t      var _imgUrl = '' + this.qiniuImgUrl + data.key;\n\t      this.$emit('onSuccess', _imgUrl, data);\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 236:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(3)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".advert-edit-container[data-v-483eb54a]{padding:50px 12px}.dialog-footer[data-v-483eb54a]{float:right}\", \"\", {\"version\":3,\"sources\":[\"/./src/pages.guo/advert/advert.scss\"],\"names\":[],\"mappings\":\"AACA,wCAAwC,iBAAiB,CACxD,AACD,gCAAgC,WAAW,CAC1C\",\"file\":\"advert.scss\",\"sourcesContent\":[\"\\n.advert-edit-container[data-v-483eb54a]{padding:50px 12px\\n}\\n.dialog-footer[data-v-483eb54a]{float:right\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 280:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(236);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(4)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../../node_modules/.0.26.1@css-loader/index.js?sourceMap!./../../../node_modules/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-483eb54a&scoped=true!./../../../node_modules/.6.0.0@sass-loader/lib/loader.js?sourceMap!./advert.scss\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../../node_modules/.0.26.1@css-loader/index.js?sourceMap!./../../../node_modules/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-483eb54a&scoped=true!./../../../node_modules/.6.0.0@sass-loader/lib/loader.js?sourceMap!./advert.scss\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 360:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(280)\n\t\n\tvar Component = __webpack_require__(2)(\n\t  /* script */\n\t  __webpack_require__(689),\n\t  /* template */\n\t  __webpack_require__(420),\n\t  /* scopeId */\n\t  \"data-v-483eb54a\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ },\n\n/***/ 420:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"advert-edit-container\"\n\t  }, [_c('el-form', {\n\t    ref: \"editForm\",\n\t    attrs: {\n\t      \"model\": _vm.editForm,\n\t      \"label-width\": \"150px\",\n\t      \"rules\": _vm.editFormRules\n\t    }\n\t  }, [_c('el-form-item', {\n\t    attrs: {\n\t      \"label\": \"名称\",\n\t      \"prop\": \"ba_name\"\n\t    }\n\t  }, [_c('el-input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.editForm.ba_name),\n\t      expression: \"editForm.ba_name\"\n\t    }],\n\t    domProps: {\n\t      \"value\": (_vm.editForm.ba_name)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        _vm.editForm.ba_name = $event\n\t      }\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('el-form-item', {\n\t    attrs: {\n\t      \"prop\": \"ba_image\"\n\t    }\n\t  }, [_c('img', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.editForm.ba_image),\n\t      expression: \"editForm.ba_image\"\n\t    }],\n\t    attrs: {\n\t      \"src\": _vm.editForm.ba_image,\n\t      \"alt\": \"\",\n\t      \"width\": \"200\"\n\t    }\n\t  }), _vm._v(\" \"), _c('img-uploader', {\n\t    attrs: {\n\t      \"btnText\": \"点击上传广告URL(图片/Falsh)\",\n\t      \"token\": _vm.uptoken,\n\t      \"qnImgUrl\": _vm.domain\n\t    },\n\t    on: {\n\t      \"onSuccess\": _vm.uploadSuccess,\n\t      \"onSizeError\": _vm.sizeError\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('el-form-item', {\n\t    attrs: {\n\t      \"label\": \"排序\",\n\t      \"prop\": \"ba_sort\"\n\t    }\n\t  }, [_c('el-input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.editForm.ba_sort),\n\t      expression: \"editForm.ba_sort\"\n\t    }],\n\t    domProps: {\n\t      \"value\": (_vm.editForm.ba_sort)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        _vm.editForm.ba_sort = $event\n\t      }\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('el-form-item', {\n\t    attrs: {\n\t      \"label\": \"业务类型\",\n\t      \"prop\": \"ba_business\"\n\t    }\n\t  }, [_c('el-select', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.editForm.ba_business),\n\t      expression: \"editForm.ba_business\"\n\t    }],\n\t    attrs: {\n\t      \"placeholder\": \"请选择业务类型\"\n\t    },\n\t    domProps: {\n\t      \"value\": (_vm.editForm.ba_business)\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        _vm.changeType(_vm.editForm.ba_business)\n\t      },\n\t      \"input\": function($event) {\n\t        _vm.editForm.ba_business = $event\n\t      }\n\t    }\n\t  }, _vm._l((_vm.baBusiness), function(item) {\n\t    return _c('el-option', {\n\t      attrs: {\n\t        \"label\": item.name,\n\t        \"value\": item.value\n\t      }\n\t    })\n\t  }))], 1), _vm._v(\" \"), _c('el-form-item', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.editForm.ba_business == 5),\n\t      expression: \"editForm.ba_business==5\"\n\t    }],\n\t    attrs: {\n\t      \"label\": \"广告类型\",\n\t      \"prop\": \"ba_admaster_type\"\n\t    }\n\t  }, [_c('el-radio-group', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.editForm.ba_admaster_type),\n\t      expression: \"editForm.ba_admaster_type\"\n\t    }],\n\t    domProps: {\n\t      \"value\": (_vm.editForm.ba_admaster_type)\n\t    },\n\t    on: {\n\t      \"change\": function($event) {\n\t        _vm.changeAdmasterType(_vm.editForm.ba_admaster_type)\n\t      },\n\t      \"input\": function($event) {\n\t        _vm.editForm.ba_admaster_type = $event\n\t      }\n\t    }\n\t  }, [_c('el-radio', {\n\t    attrs: {\n\t      \"label\": 0\n\t    }\n\t  }, [_vm._v(\"正常\")]), _vm._v(\" \"), _c('el-radio', {\n\t    attrs: {\n\t      \"label\": 1\n\t    }\n\t  }, [_vm._v(\"秒针\")]), _vm._v(\" \"), _c('el-radio', {\n\t    attrs: {\n\t      \"label\": 2\n\t    }\n\t  }, [_vm._v(\"AdMaster\")])], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (!_vm.editForm.ba_admaster_type == 0 && _vm.editForm.ba_business == 5),\n\t      expression: \"!editForm.ba_admaster_type==0&&editForm.ba_business==5\"\n\t    }],\n\t    attrs: {\n\t      \"label\": \"曝光地址\",\n\t      \"prop\": \"ba_expousre_address\"\n\t    }\n\t  }, [_c('el-input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.editForm.ba_expousre_address),\n\t      expression: \"editForm.ba_expousre_address\"\n\t    }],\n\t    domProps: {\n\t      \"value\": (_vm.editForm.ba_expousre_address)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        _vm.editForm.ba_expousre_address = $event\n\t      }\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('el-form-item', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.editForm.ba_business == 5),\n\t      expression: \"editForm.ba_business==5\"\n\t    }],\n\t    attrs: {\n\t      \"label\": \"跳转URL\",\n\t      \"prop\": \"ba_url\",\n\t      \"id\": \"ba_url\"\n\t    }\n\t  }, [_c('el-input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.editForm.ba_url),\n\t      expression: \"editForm.ba_url\"\n\t    }],\n\t    domProps: {\n\t      \"value\": (_vm.editForm.ba_url)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        _vm.editForm.ba_url = $event\n\t      }\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('el-form-item', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.editForm.ba_business == 4),\n\t      expression: \"editForm.ba_business==4\"\n\t    }],\n\t    attrs: {\n\t      \"label\": \"活动ID\",\n\t      \"prop\": \"ba_params\",\n\t      \"id\": \"ba_params\"\n\t    }\n\t  }, [_c('el-select', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.editForm.ba_params),\n\t      expression: \"editForm.ba_params\"\n\t    }],\n\t    attrs: {\n\t      \"placeholder\": \"请选择活动id\"\n\t    },\n\t    domProps: {\n\t      \"value\": (_vm.editForm.ba_params)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        _vm.editForm.ba_params = $event\n\t      }\n\t    }\n\t  }, _vm._l((_vm.activityIdList), function(item) {\n\t    return _c('el-option', {\n\t      attrs: {\n\t        \"label\": item.actiTitle,\n\t        \"value\": item.actiId\n\t      }\n\t    })\n\t  }))], 1)], 1), _vm._v(\" \"), _c('div', {\n\t    staticClass: \"dialog-footer\",\n\t    slot: \"footer\"\n\t  }, [_c('el-button', {\n\t    attrs: {\n\t      \"type\": \"primary \"\n\t    },\n\t    on: {\n\t      \"click\": _vm.editSumbit\n\t    }\n\t  }, [_vm._v(\"确 定\")])], 1)], 1)\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 689:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _api = __webpack_require__(5);\n\t\n\tvar _api2 = _interopRequireDefault(_api);\n\t\n\tvar _ImgUploader = __webpack_require__(21);\n\t\n\tvar _ImgUploader2 = _interopRequireDefault(_ImgUploader);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    name: 'advert',\n\t    data: function data() {\n\t        return {\n\t            uptoken: '',\n\t            domain: '',\n\t            activityIdList: [],\n\t            admasterType: [{ value: 0, name: '正常' }, { value: 1, name: '秒针' }],\n\t            baBusiness: [{ value: 4, name: '活动' }, { value: 5, name: '外链' }],\n\t            baType: [{ value: 1, name: '对应资讯id' }, { value: 2, name: '对应vode_id' }, { value: 3, name: '对应play_id' }, { value: 4, name: '活动ID' }],\n\t            uploadUrl: _api2.default.getUploadUrl(),\n\t            editForm: {\n\t                ba_id: '',\n\t                ba_name: '',\n\t                ba_image: '',\n\t                ba_sort: '',\n\t                ba_business: '',\n\t                ba_url: '',\n\t                ba_params: '',\n\t                ba_admaster_type: '',\n\t                ba_expousre_address: ''\n\t            },\n\t            editFormRules: {\n\t                ba_name: [{ required: true, message: '请输入广告banner名称', trigger: 'blur' }],\n\t                ba_image: [{ required: true, message: '请上传广告URL(图片/Falsh)' }],\n\t                ba_admaster_type: [{ required: true, message: '请选择广告类型' }],\n\t                ba_business: [{ required: true, message: '请选择业务类型' }],\n\t                ba_url: [{ required: true, message: '请填写跳转URL' }],\n\t                ba_expousre_address: [{ required: true, message: '请填写跳转曝光地址' }],\n\t                ba_params: [{ required: true, message: '请选择活动id' }]\n\t\n\t            }\n\t\n\t        };\n\t    },\n\t\n\t    components: {\n\t        'img-uploader': _ImgUploader2.default\n\t    },\n\t    mounted: function mounted() {\n\t        this.getEditerList();\n\t        this.getActivityId();\n\t        var id;\n\t        id = this.editForm.ba_id = this.$route.params['advertId'];\n\t        if (id) {\n\t            this.advertEdit(id);\n\t        } else {\n\t            this.editForm.ba_id = '';\n\t        }\n\t        this.editorUpload();\n\t    },\n\t    methods: {\n\t        editorUpload: function editorUpload() {\n\t            var _this = this;\n\t\n\t            _api2.default.get({\n\t                'ext': 'common/resource/qiniu/config'\n\t            }).then(function (res) {\n\t                _this.uptoken = res.body.uptoken;\n\t                _this.domain = res.body.domain;\n\t            });\n\t        },\n\t        advertEdit: function advertEdit(id) {\n\t            var _this2 = this;\n\t\n\t            _api2.default.get({\n\t                'ext': 'banners/read',\n\t                'ba_id': id\n\t            }).then(function (res) {\n\t                _this2.editForm = {\n\t                    ba_id: res.data.data.baId,\n\t                    ba_name: res.data.data.baName,\n\t                    ba_image: res.data.data.baImage,\n\t                    ba_sort: res.data.data.baSort,\n\t                    ba_business: res.data.data.baBusiness,\n\t                    ba_url: res.data.data.baUrl,\n\t                    ba_params: +res.data.data.baParams,\n\t                    ba_admaster_type: res.data.data.baAdmasterType,\n\t                    ba_expousre_address: res.data.data.baExpousreAddress\n\t                };\n\t                _this2.changeType(res.data.data.baParams);\n\t                _this2.changeAdmasterType(res.data.data.baAdmasterType);\n\t            });\n\t        },\n\t        getActivityId: function getActivityId() {\n\t            var _this3 = this;\n\t\n\t            _api2.default.get({\n\t                'ext': 'activity/readList'\n\t            }).then(function (res) {\n\t                _this3.activityIdList = res.data.data;\n\t            });\n\t        },\n\t        getEditerList: function getEditerList() {\n\t            var _this4 = this;\n\t\n\t            _api2.default.get({\n\t                'ext': 'editor/readList'\n\t            }).then(function (res) {\n\t                _this4.editerList = res.data.data;\n\t            });\n\t        },\n\t\n\t        editSumbit: function editSumbit() {\n\t            var _this5 = this;\n\t\n\t            this.$refs.editForm.validate(function (valid) {\n\t                if (valid) {\n\t                    if (_this5.editForm.ba_id == '') {\n\t                        _api2.default.post({\n\t                            'ext': 'banners/add',\n\t                            'ba_name': _this5.editForm.ba_name,\n\t                            'ba_image': _this5.editForm.ba_image,\n\t                            'ba_sort': _this5.editForm.ba_sort,\n\t                            'ba_admaster_type': _this5.editForm.ba_admaster_type,\n\t                            'ba_expousre_address': _this5.editForm.ba_expousre_address,\n\t                            'ba_business': _this5.editForm.ba_business,\n\t                            'ba_url': _this5.editForm.ba_url,\n\t                            'ba_params': _this5.editForm.ba_params\n\t                        }).then(function (res) {\n\t                            if (res.data.code == 1) {\n\t                                _this5.$notify({\n\t                                    title: '成功',\n\t                                    message: '添加成功',\n\t                                    type: 'success'\n\t                                });\n\t                                _this5.$router.push({ path: '/advert' });\n\t                            } else {\n\t                                _this5.$notify({\n\t                                    title: '失败',\n\t                                    message: res.data.msg,\n\t                                    type: 'error'\n\t                                });\n\t                            }\n\t                        });\n\t                    } else {\n\t                        _api2.default.put({\n\t                            'ext': 'banners/edit',\n\t                            'ba_id': _this5.editForm.ba_id,\n\t                            'ba_name': _this5.editForm.ba_name,\n\t                            'ba_image': _this5.editForm.ba_image,\n\t                            'ba_sort': _this5.editForm.ba_sort,\n\t                            'ba_admaster_type': _this5.editForm.ba_admaster_type,\n\t                            'ba_expousre_address': _this5.editForm.ba_expousre_address,\n\t                            'ba_business': _this5.editForm.ba_business,\n\t                            'ba_url': _this5.editForm.ba_url,\n\t                            'ba_params': _this5.editForm.ba_params\n\t                        }).then(function (res) {\n\t                            if (res.data.code == 1) {\n\t                                _this5.$notify({\n\t                                    title: '成功',\n\t                                    message: '操作成功',\n\t                                    type: 'success'\n\t                                });\n\t                                _this5.$router.push({ path: '/advert' });\n\t                            } else {\n\t                                _this5.$notify({\n\t                                    title: '失败',\n\t                                    message: res.data.msg,\n\t                                    type: 'error'\n\t                                });\n\t                            }\n\t                        });\n\t                    }\n\t                } else {\n\t                    _this5.$alert('信息填写不完整!', '提示', {\n\t                        confirmButtonText: '确定'\n\t                    }).catch(function () {});\n\t                    return false;\n\t                }\n\t            });\n\t        },\n\t        advertDel: function advertDel(ids) {\n\t            var _this6 = this;\n\t\n\t            console.log(ids);\n\t            this.$confirm('您确定要删除广告banner?', '提示', {\n\t                confirmButtonText: '确定',\n\t                cancelButtonText: '取消'\n\t            }).then(function () {\n\t                _api2.default.post({\n\t                    'ext': 'banners/delete',\n\t                    'ids': ids\n\t                }).then(function (res) {\n\t                    _this6.$notify({\n\t                        title: '成功',\n\t                        message: '删除成功',\n\t                        type: 'success'\n\t                    });\n\t                    _this6.listLoading = true;\n\t                    _this6.getAvertList();\n\t                });\n\t            }).catch(function () {});\n\t        },\n\t        batchSelect: function batchSelect(checkList) {\n\t            this.avertId = [];\n\t            for (var i = 0; i < checkList.length; i++) {\n\t                this.avertId.push(checkList[i].baId);\n\t            }\n\t        },\n\t        batchDel: function batchDel() {\n\t            var ids = this.avertId.join(',');\n\t            this.advertDel(ids);\n\t        },\n\t        UploadImgSucess: function UploadImgSucess(response, file, fileList) {\n\t            this.editForm.ba_image = response.url;\n\t        },\n\t        changeType: function changeType(type) {\n\t            if (type == 4) {\n\t                this.editForm.ba_url = '';\n\t                this.editForm.ba_admaster_type = '';\n\t                this.editForm.ba_expousre_address = '';\n\t                this.editFormRules.ba_url = [];\n\t                this.editFormRules.ba_admaster_type = [];\n\t                this.editFormRules.ba_expousre_address = [];\n\t                this.editFormRules.ba_params = [{ required: true, message: '请选择活动id' }];\n\t            } else if (type == 5) {\n\t                this.editForm.ba_params = '';\n\t                this.editFormRules.ba_params = [];\n\t                this.editFormRules.ba_url = [{ required: true, message: '请填写跳转URL' }];\n\t                this.editFormRules.ba_admaster_type = [{ required: true, message: '请选择广告类型' }];\n\t            }\n\t        },\n\t        changeAdmasterType: function changeAdmasterType(type) {\n\t            if (type == 0) {\n\t                this.editFormRules.ba_expousre_address = [];\n\t                this.editForm.ba_expousre_address = '';\n\t            } else {\n\t                this.editFormRules.ba_expousre_address = [{ required: true, message: '请输入输入曝光地址', trigger: 'blur' }];\n\t            }\n\t        },\n\t        advertCurrentChange: function advertCurrentChange(val) {\n\t            this.pageNum = val;\n\t            this.getAvertList();\n\t        },\n\t        showPreview: function showPreview(index) {\n\t            var imgList = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.imgList;\n\t\n\t            var _dealList = [];\n\t            var _loadedCount = 0;\n\t            var self = this;\n\t\n\t            imgList.map(function (item, index) {\n\t                var _img = new Image();\n\t                _img.src = item;\n\t                _img.onload = function () {\n\t                    _loadedCount++;\n\t                    _dealList.push({\n\t                        src: item,\n\t                        w: _img.width,\n\t                        h: _img.height\n\t                    });\n\t                    if (_loadedCount === imgList.length) {\n\t                        _configPreview();\n\t                    }\n\t                };\n\t                _img.onerror = function () {\n\t                    _loadedCount++;\n\t                    _dealList.splice(index, 0, {\n\t                        src: '/static/images/default1.jpg',\n\t                        w: 100,\n\t                        h: 100\n\t                    });\n\t                    if (_loadedCount === imgList.length) {\n\t                        _configPreview();\n\t                    }\n\t                };\n\t            });\n\t\n\t            function _configPreview() {\n\t                self.$preview.open(index, _dealList);\n\t            }\n\t        },\n\t\n\t        uploadSuccess: function uploadSuccess(data) {\n\t            this.editForm.ba_image = this.domain + data;\n\t            console.log(data);\n\t        },\n\t        sizeError: function sizeError(data) {\n\t            this.$alert(data, '提示', {\n\t                confirmButtonText: '确定'\n\t            }).catch(function () {});\n\t        }\n\t    }\n\t\n\t};\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/6.dffcabcae01b980b7de8.js","exports = module.exports = require(\"./../../node_modules/.0.26.1@css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".el-upload{margin-top:12px}\", \"\", {\"version\":3,\"sources\":[\"/./src/components/ImgUploader.vue\"],\"names\":[],\"mappings\":\"AACA,WACE,eAAiB,CAClB\",\"file\":\"ImgUploader.vue\",\"sourcesContent\":[\"\\n.el-upload{\\n  margin-top: 12px;\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.26.1@css-loader?sourceMap!./~/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-ac21f8c2!./~/.10.3.0@vue-loader/lib/selector.js?type=styles&index=0!./src/components/ImgUploader.vue\n// module id = 19\n// module chunks = 1 2 3 4 5 6 7","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/.0.26.1@css-loader/index.js?sourceMap!./../../node_modules/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-ac21f8c2!./../../node_modules/.10.3.0@vue-loader/lib/selector.js?type=styles&index=0!./ImgUploader.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/.1.0.0@vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/.0.26.1@css-loader/index.js?sourceMap!./../../node_modules/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-ac21f8c2!./../../node_modules/.10.3.0@vue-loader/lib/selector.js?type=styles&index=0!./ImgUploader.vue\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/.0.26.1@css-loader/index.js?sourceMap!./../../node_modules/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-ac21f8c2!./../../node_modules/.10.3.0@vue-loader/lib/selector.js?type=styles&index=0!./ImgUploader.vue\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.1.0.1@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"extract\":true,\"remove\":true}!./~/.1.0.0@vue-style-loader!./~/.0.26.1@css-loader?sourceMap!./~/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-ac21f8c2!./~/.10.3.0@vue-loader/lib/selector.js?type=styles&index=0!./src/components/ImgUploader.vue\n// module id = 20\n// module chunks = 1 2 3 4 5 6 7","\n/* styles */\nrequire(\"!!./../../node_modules/.1.0.1@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/.10.3.0@vue-loader/lib/style-rewriter?id=data-v-ac21f8c2!./../../node_modules/.10.3.0@vue-loader/lib/selector?type=styles&index=0!./ImgUploader.vue\")\n\nvar Component = require(\"!./../../node_modules/.10.3.0@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!./../../node_modules/.10.3.0@vue-loader/lib/selector?type=script&index=0!./ImgUploader.vue\"),\n  /* template */\n  require(\"!!./../../node_modules/.10.3.0@vue-loader/lib/template-compiler?id=data-v-ac21f8c2!./../../node_modules/.10.3.0@vue-loader/lib/selector?type=template&index=0!./ImgUploader.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/ImgUploader.vue\n// module id = 21\n// module chunks = 1 2 3 4 5 6 7","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('el-upload', {\n    attrs: {\n      \"action\": _vm.uploadUrl,\n      \"data\": _vm.uploadImgData,\n      \"name\": 'file',\n      \"on-success\": _vm.onSuccess,\n      \"before-upload\": _vm.checkData\n    }\n  }, [_c('el-button', {\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\"\n    }\n  }, [_vm._v(_vm._s(_vm.btnText))])], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.10.3.0@vue-loader/lib/template-compiler.js?id=data-v-ac21f8c2!./~/.10.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/components/ImgUploader.vue\n// module id = 22\n// module chunks = 1 2 3 4 5 6 7","<template>\n  <div>\n    <el-upload :action=\"uploadUrl\" :data=\"uploadImgData\" :name=\"'file'\" :on-success=\"onSuccess\"\n    :before-upload=\"checkData\">\n      <el-button size=\"small\" type=\"primary\">{{btnText}}</el-button>\n    </el-upload>\n  </div>\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        uploadUrl: 'http://up-z2.qiniu.com/',\n        qiniuImgUrl:this.qnImgUrl,\n        uploadImgData: {\n          token: ''\n        }\n      }\n    },\n    props: [\n      'btnText',\n      'token',\n      'limit',\n      'qnImgUrl'\n    ],\n    watch: {\n      'token': function() {\n        if (this.token && this.token !== '') {\n          this.initConfig();\n        }\n      }\n    },\n    mounted() {\n\n    },\n    methods: {\n      initConfig() {\n        this.uploadImgData = {\n          token: this.token\n        }\n      },\n      checkData(file) {\n        return new Promise((resolve, reject) => {\n          if (this.limit) {\n            var reader = new FileReader();\n            reader.readAsDataURL(file);\n            reader.onload = (e) => {\n              var img = new Image();\n              img.src = e.target.result;\n              console.log(img.src)\n              img.onload = (e) => {\n                console.log(img.width,img.height)\n                console.log(this.limit.width,this.limit.height)\n                if (img.width <= this.limit.width && img.height <= this.limit.height) {\n                  resolve(true);\n                } else {\n                  this.$emit('onSizeError','图片尺寸不符合规范');\n                  reject('图片尺寸不符合规范');\n                }\n              }\n            }\n          } else {\n            resolve(true);\n          }\n        })\n      },\n      onSuccess(data) {\n        var _imgUrl = `${this.qiniuImgUrl}${data.key}` ;\n        this.$emit('onSuccess', _imgUrl,data);\n      }\n    }\n  }\n</script>\n<style>\n  .el-upload{\n    margin-top: 12px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ImgUploader.vue?02a2a242","exports = module.exports = require(\"./../../../node_modules/.0.26.1@css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".advert-edit-container[data-v-483eb54a]{padding:50px 12px}.dialog-footer[data-v-483eb54a]{float:right}\", \"\", {\"version\":3,\"sources\":[\"/./src/pages.guo/advert/advert.scss\"],\"names\":[],\"mappings\":\"AACA,wCAAwC,iBAAiB,CACxD,AACD,gCAAgC,WAAW,CAC1C\",\"file\":\"advert.scss\",\"sourcesContent\":[\"\\n.advert-edit-container[data-v-483eb54a]{padding:50px 12px\\n}\\n.dialog-footer[data-v-483eb54a]{float:right\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.26.1@css-loader?sourceMap!./~/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-483eb54a&scoped=true!./~/.6.0.0@sass-loader/lib/loader.js?sourceMap!./src/pages.guo/advert/advert.scss\n// module id = 236\n// module chunks = 6","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../node_modules/.0.26.1@css-loader/index.js?sourceMap!./../../../node_modules/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-483eb54a&scoped=true!./../../../node_modules/.6.0.0@sass-loader/lib/loader.js?sourceMap!./advert.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../node_modules/.1.0.0@vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../node_modules/.0.26.1@css-loader/index.js?sourceMap!./../../../node_modules/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-483eb54a&scoped=true!./../../../node_modules/.6.0.0@sass-loader/lib/loader.js?sourceMap!./advert.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../../node_modules/.0.26.1@css-loader/index.js?sourceMap!./../../../node_modules/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-483eb54a&scoped=true!./../../../node_modules/.6.0.0@sass-loader/lib/loader.js?sourceMap!./advert.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.1.0.1@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"extract\":true,\"remove\":true}!./~/.1.0.0@vue-style-loader!./~/.0.26.1@css-loader?sourceMap!./~/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-483eb54a&scoped=true!./~/.6.0.0@sass-loader/lib/loader.js?sourceMap!./src/pages.guo/advert/advert.scss\n// module id = 280\n// module chunks = 6","\n/* styles */\nrequire(\"!!./../../../node_modules/.1.0.1@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../../node_modules/.10.3.0@vue-loader/lib/style-rewriter?id=data-v-483eb54a&scoped=true!sass-loader?sourceMap!./advert.scss\")\n\nvar Component = require(\"!./../../../node_modules/.10.3.0@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!./../../../node_modules/.10.3.0@vue-loader/lib/selector?type=script&index=0!./advertEdit.vue\"),\n  /* template */\n  require(\"!!./../../../node_modules/.10.3.0@vue-loader/lib/template-compiler?id=data-v-483eb54a!./../../../node_modules/.10.3.0@vue-loader/lib/selector?type=template&index=0!./advertEdit.vue\"),\n  /* scopeId */\n  \"data-v-483eb54a\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages.guo/advert/advertEdit.vue\n// module id = 360\n// module chunks = 6","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"advert-edit-container\"\n  }, [_c('el-form', {\n    ref: \"editForm\",\n    attrs: {\n      \"model\": _vm.editForm,\n      \"label-width\": \"150px\",\n      \"rules\": _vm.editFormRules\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"名称\",\n      \"prop\": \"ba_name\"\n    }\n  }, [_c('el-input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.editForm.ba_name),\n      expression: \"editForm.ba_name\"\n    }],\n    domProps: {\n      \"value\": (_vm.editForm.ba_name)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.editForm.ba_name = $event\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"prop\": \"ba_image\"\n    }\n  }, [_c('img', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.editForm.ba_image),\n      expression: \"editForm.ba_image\"\n    }],\n    attrs: {\n      \"src\": _vm.editForm.ba_image,\n      \"alt\": \"\",\n      \"width\": \"200\"\n    }\n  }), _vm._v(\" \"), _c('img-uploader', {\n    attrs: {\n      \"btnText\": \"点击上传广告URL(图片/Falsh)\",\n      \"token\": _vm.uptoken,\n      \"qnImgUrl\": _vm.domain\n    },\n    on: {\n      \"onSuccess\": _vm.uploadSuccess,\n      \"onSizeError\": _vm.sizeError\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"排序\",\n      \"prop\": \"ba_sort\"\n    }\n  }, [_c('el-input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.editForm.ba_sort),\n      expression: \"editForm.ba_sort\"\n    }],\n    domProps: {\n      \"value\": (_vm.editForm.ba_sort)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.editForm.ba_sort = $event\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"业务类型\",\n      \"prop\": \"ba_business\"\n    }\n  }, [_c('el-select', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.editForm.ba_business),\n      expression: \"editForm.ba_business\"\n    }],\n    attrs: {\n      \"placeholder\": \"请选择业务类型\"\n    },\n    domProps: {\n      \"value\": (_vm.editForm.ba_business)\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.changeType(_vm.editForm.ba_business)\n      },\n      \"input\": function($event) {\n        _vm.editForm.ba_business = $event\n      }\n    }\n  }, _vm._l((_vm.baBusiness), function(item) {\n    return _c('el-option', {\n      attrs: {\n        \"label\": item.name,\n        \"value\": item.value\n      }\n    })\n  }))], 1), _vm._v(\" \"), _c('el-form-item', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.editForm.ba_business == 5),\n      expression: \"editForm.ba_business==5\"\n    }],\n    attrs: {\n      \"label\": \"广告类型\",\n      \"prop\": \"ba_admaster_type\"\n    }\n  }, [_c('el-radio-group', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.editForm.ba_admaster_type),\n      expression: \"editForm.ba_admaster_type\"\n    }],\n    domProps: {\n      \"value\": (_vm.editForm.ba_admaster_type)\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.changeAdmasterType(_vm.editForm.ba_admaster_type)\n      },\n      \"input\": function($event) {\n        _vm.editForm.ba_admaster_type = $event\n      }\n    }\n  }, [_c('el-radio', {\n    attrs: {\n      \"label\": 0\n    }\n  }, [_vm._v(\"正常\")]), _vm._v(\" \"), _c('el-radio', {\n    attrs: {\n      \"label\": 1\n    }\n  }, [_vm._v(\"秒针\")]), _vm._v(\" \"), _c('el-radio', {\n    attrs: {\n      \"label\": 2\n    }\n  }, [_vm._v(\"AdMaster\")])], 1)], 1), _vm._v(\" \"), _c('el-form-item', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.editForm.ba_admaster_type == 0 && _vm.editForm.ba_business == 5),\n      expression: \"!editForm.ba_admaster_type==0&&editForm.ba_business==5\"\n    }],\n    attrs: {\n      \"label\": \"曝光地址\",\n      \"prop\": \"ba_expousre_address\"\n    }\n  }, [_c('el-input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.editForm.ba_expousre_address),\n      expression: \"editForm.ba_expousre_address\"\n    }],\n    domProps: {\n      \"value\": (_vm.editForm.ba_expousre_address)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.editForm.ba_expousre_address = $event\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.editForm.ba_business == 5),\n      expression: \"editForm.ba_business==5\"\n    }],\n    attrs: {\n      \"label\": \"跳转URL\",\n      \"prop\": \"ba_url\",\n      \"id\": \"ba_url\"\n    }\n  }, [_c('el-input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.editForm.ba_url),\n      expression: \"editForm.ba_url\"\n    }],\n    domProps: {\n      \"value\": (_vm.editForm.ba_url)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.editForm.ba_url = $event\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.editForm.ba_business == 4),\n      expression: \"editForm.ba_business==4\"\n    }],\n    attrs: {\n      \"label\": \"活动ID\",\n      \"prop\": \"ba_params\",\n      \"id\": \"ba_params\"\n    }\n  }, [_c('el-select', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.editForm.ba_params),\n      expression: \"editForm.ba_params\"\n    }],\n    attrs: {\n      \"placeholder\": \"请选择活动id\"\n    },\n    domProps: {\n      \"value\": (_vm.editForm.ba_params)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.editForm.ba_params = $event\n      }\n    }\n  }, _vm._l((_vm.activityIdList), function(item) {\n    return _c('el-option', {\n      attrs: {\n        \"label\": item.actiTitle,\n        \"value\": item.actiId\n      }\n    })\n  }))], 1)], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"dialog-footer\",\n    slot: \"footer\"\n  }, [_c('el-button', {\n    attrs: {\n      \"type\": \"primary \"\n    },\n    on: {\n      \"click\": _vm.editSumbit\n    }\n  }, [_vm._v(\"确 定\")])], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.10.3.0@vue-loader/lib/template-compiler.js?id=data-v-483eb54a!./~/.10.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/pages.guo/advert/advertEdit.vue\n// module id = 420\n// module chunks = 6","<template>\r\n    <div class=\"advert-edit-container\">\r\n\r\n        <el-form :model=\"editForm\" label-width=\"150px\" :rules=\"editFormRules\" ref=\"editForm\">\r\n            <el-form-item label=\"名称\" prop=\"ba_name\">\r\n                <el-input v-model=\"editForm.ba_name\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"ba_image\">\r\n\r\n                <img v-show=\"editForm.ba_image\" :src=\"editForm.ba_image\" alt=\"\" width=\"200\">\r\n                <img-uploader btnText=\"点击上传广告URL(图片/Falsh)\" :token=\"uptoken\" :qnImgUrl=\"domain\" @onSuccess=\"uploadSuccess\" @onSizeError=\"sizeError\"></img-uploader>\r\n\r\n                <!--<span class=\"tip\">请上传尺寸为750px*420px的轮播图</span>-->\r\n            </el-form-item>\r\n            <el-form-item label=\"排序\" prop=\"ba_sort\">\r\n                <el-input v-model=\"editForm.ba_sort\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"业务类型\" prop=\"ba_business\">\r\n                <el-select v-model=\"editForm.ba_business\" placeholder=\"请选择业务类型\" @change=\"changeType(editForm.ba_business)\">\r\n                    <el-option v-for=\"item in baBusiness\" :label=\"item.name\" :value=\"item.value\"></el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"广告类型\" prop=\"ba_admaster_type\" v-show=\"editForm.ba_business==5\">\r\n                <!--<el-select v-model=\"editForm.ba_admaster_type\" placeholder=\"请选择广告类型\">\r\n                    <el-option v-for=\"item in admasterType\" :label=\"item.name\" :value=\"item.value\"></el-option>\r\n                </el-select>-->\r\n                <el-radio-group v-model=\"editForm.ba_admaster_type\" @change=\"changeAdmasterType(editForm.ba_admaster_type)\">\r\n                    <el-radio :label=\"0\">正常</el-radio>\r\n                    <el-radio :label=\"1\">秒针</el-radio>\r\n                    <el-radio :label=\"2\">AdMaster</el-radio>\r\n                </el-radio-group>\r\n            </el-form-item>\r\n            <el-form-item label=\"曝光地址\" prop=\"ba_expousre_address\" v-show=\"!editForm.ba_admaster_type==0&&editForm.ba_business==5\">\r\n                <el-input v-model=\"editForm.ba_expousre_address\"></el-input>\r\n            </el-form-item>\r\n            <!--<el-form-item label=\"业务标识\" prop=\"ba_type\">\r\n                    <el-select v-model=\"editForm.ba_type\" placeholder=\"请选择业务标识\">\r\n                        <el-option v-for=\"item in baType\" :label=\"item.name\" :value=\"item.value\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>-->\r\n            <el-form-item label=\"跳转URL\" prop=\"ba_url\" id=\"ba_url\" v-show=\"editForm.ba_business==5\">\r\n                <el-input v-model=\"editForm.ba_url\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"活动ID\" prop=\"ba_params\" id=\"ba_params\" v-show=\"editForm.ba_business==4\">\r\n                <el-select v-model=\"editForm.ba_params\" placeholder=\"请选择活动id\">\r\n                    <el-option v-for=\"item in activityIdList\" :label=\"item.actiTitle\" :value=\"item.actiId\"></el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <!--<el-form-item label=\"作者\" prop=\"user_id\">\r\n                    <el-select v-model=\"editForm.user_id\" placeholder=\"请选择作者\">\r\n                        <el-option :label=\"item.ename\" :value=\"item.eid\" v-for=\"item in editerList\"></el-option>\r\n                    </el-select>\r\n                </el-form-item>-->\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button type=\"primary \" @click=\"editSumbit\">确 定</el-button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import ApiService from 'SERVICES/api.service'\r\n    import ImgUploader from 'COMPONENTS/ImgUploader'\r\n    export default {\r\n        name: 'advert',\r\n        data() {\r\n            return {\r\n                uptoken: '',\r\n                domain: '',\r\n                activityIdList: [],\r\n                admasterType: [\r\n                    { value: 0, name: '正常' },\r\n                    { value: 1, name: '秒针' },\r\n                ],\r\n                baBusiness: [\r\n                    // { value: 1, name: '资讯' },\r\n                    // { value: 2, name: '视频' },\r\n                    // { value: 3, name: '活动选手' },\r\n                    { value: 4, name: '活动' },\r\n                    { value: 5, name: '外链' }\r\n                ],\r\n                baType: [\r\n                    { value: 1, name: '对应资讯id' },\r\n                    { value: 2, name: '对应vode_id' },\r\n                    { value: 3, name: '对应play_id' },\r\n                    { value: 4, name: '活动ID' },\r\n                ],\r\n                uploadUrl: ApiService.getUploadUrl(),\r\n                editForm: {\r\n                    ba_id: '',\r\n                    ba_name: '',\r\n                    ba_image: '',\r\n                    ba_sort: '',\r\n                    ba_business: '',\r\n                    ba_url: '',\r\n                    ba_params: '',\r\n                    ba_admaster_type: '',\r\n                    ba_expousre_address: ''\r\n                },\r\n                editFormRules: {\r\n                    ba_name: [\r\n                        { required: true, message: '请输入广告banner名称', trigger: 'blur' }\r\n                    ],\r\n                    ba_image: [\r\n                        { required: true, message: '请上传广告URL(图片/Falsh)' }\r\n                    ],\r\n                    ba_admaster_type: [\r\n                        { required: true, message: '请选择广告类型' }\r\n                    ],\r\n                    ba_business: [\r\n                        { required: true, message: '请选择业务类型' }\r\n                    ],\r\n                    ba_url: [\r\n                        { required: true, message: '请填写跳转URL' }\r\n                    ],\r\n                    ba_expousre_address: [\r\n                        { required: true, message: '请填写跳转曝光地址' }\r\n                    ],\r\n                    ba_params: [\r\n                        { required: true, message: '请选择活动id' }\r\n                    ],\r\n\r\n                }\r\n\r\n\r\n            }\r\n        },\r\n        components: {\r\n            'img-uploader': ImgUploader\r\n        },\r\n        mounted: function () {\r\n            this.getEditerList();\r\n            this.getActivityId();\r\n            var id;\r\n            id = this.editForm.ba_id = this.$route.params['advertId'];\r\n            if (id) {\r\n                this.advertEdit(id);\r\n            } else {\r\n                this.editForm.ba_id = '';\r\n\r\n            }\r\n            this.editorUpload();\r\n        },\r\n        methods: {\r\n            editorUpload: function () {\r\n                ApiService.get({\r\n                    'ext': 'common/resource/qiniu/config'\r\n                }).then(res => {\r\n                    this.uptoken = res.body.uptoken;\r\n                    this.domain = res.body.domain;\r\n                })\r\n            },\r\n            advertEdit: function (id) {\r\n                ApiService.get({\r\n                    'ext': 'banners/read',\r\n                    'ba_id': id\r\n                }).then((res) => {\r\n                    this.editForm = {\r\n                        ba_id: res.data.data.baId,\r\n                        ba_name: res.data.data.baName,\r\n                        ba_image: res.data.data.baImage,\r\n                        ba_sort: res.data.data.baSort,\r\n                        ba_business: res.data.data.baBusiness,\r\n                        ba_url: res.data.data.baUrl,\r\n                        ba_params: +res.data.data.baParams,\r\n                        ba_admaster_type: res.data.data.baAdmasterType,\r\n                        ba_expousre_address: res.data.data.baExpousreAddress,\r\n                    }\r\n                    this.changeType(res.data.data.baParams);\r\n                    this.changeAdmasterType(res.data.data.baAdmasterType);\r\n                })\r\n            },\r\n            getActivityId: function () {\r\n                ApiService.get({\r\n                    'ext': 'activity/readList',\r\n                }).then(res => {\r\n                    this.activityIdList = res.data.data;\r\n                })\r\n            },\r\n            getEditerList: function () {\r\n                ApiService.get({\r\n                    'ext': 'editor/readList'\r\n                }).then(res => {\r\n                    this.editerList = res.data.data;\r\n                })\r\n            },\r\n\r\n            editSumbit: function () {\r\n                this.$refs.editForm.validate((valid) => {\r\n                    if (valid) {\r\n                        if (this.editForm.ba_id == '') {\r\n                            ApiService.post({\r\n                                'ext': 'banners/add',\r\n                                'ba_name': this.editForm.ba_name,\r\n                                'ba_image': this.editForm.ba_image,\r\n                                'ba_sort': this.editForm.ba_sort,\r\n                                'ba_admaster_type': this.editForm.ba_admaster_type,\r\n                                'ba_expousre_address': this.editForm.ba_expousre_address,\r\n                                'ba_business': this.editForm.ba_business,\r\n                                'ba_url': this.editForm.ba_url,\r\n                                'ba_params': this.editForm.ba_params,\r\n                            }).then(res => {\r\n                                if (res.data.code == 1) {\r\n                                    this.$notify({\r\n                                        title: '成功',\r\n                                        message: '添加成功',\r\n                                        type: 'success'\r\n                                    });\r\n                                    this.$router.push({ path: `/advert` });\r\n                                } else {\r\n                                    this.$notify({\r\n                                        title: '失败',\r\n                                        message: res.data.msg,\r\n                                        type: 'error'\r\n                                    });\r\n                                }\r\n\r\n                            })\r\n                        } else {\r\n                            ApiService.put({\r\n                                'ext': 'banners/edit',\r\n                                'ba_id': this.editForm.ba_id,\r\n                                'ba_name': this.editForm.ba_name,\r\n                                'ba_image': this.editForm.ba_image,\r\n                                'ba_sort': this.editForm.ba_sort,\r\n                                'ba_admaster_type': this.editForm.ba_admaster_type,\r\n                                'ba_expousre_address': this.editForm.ba_expousre_address,\r\n                                'ba_business': this.editForm.ba_business,\r\n                                'ba_url': this.editForm.ba_url,\r\n                                'ba_params': this.editForm.ba_params,\r\n                            }).then(res => {\r\n                                if (res.data.code == 1) {\r\n                                    this.$notify({\r\n                                        title: '成功',\r\n                                        message: '操作成功',\r\n                                        type: 'success'\r\n                                    });\r\n                                    this.$router.push({ path: `/advert` });\r\n                                } else {\r\n                                    this.$notify({\r\n                                        title: '失败',\r\n                                        message: res.data.msg,\r\n                                        type: 'error'\r\n                                    });\r\n                                }\r\n\r\n                            })\r\n\r\n                        }\r\n                    } else {\r\n                        this.$alert('信息填写不完整!', '提示', {\r\n                            confirmButtonText: '确定'\r\n                        }).catch(() => { })\r\n                        return false;\r\n                    }\r\n                })\r\n            },\r\n            advertDel: function (ids) {\r\n                console.log(ids);\r\n                this.$confirm('您确定要删除广告banner?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消'\r\n                }).then(() => {\r\n                    ApiService.post({\r\n                        'ext': 'banners/delete',\r\n                        'ids': ids\r\n                    }).then(res => {\r\n                        this.$notify({\r\n                            title: '成功',\r\n                            message: '删除成功',\r\n                            type: 'success'\r\n                        });\r\n                        this.listLoading = true;\r\n                        this.getAvertList();\r\n                    })\r\n                }).catch(() => { })\r\n\r\n            },\r\n            batchSelect: function (checkList) {\r\n                this.avertId = [];\r\n                for (var i = 0; i < checkList.length; i++) {\r\n                    this.avertId.push(checkList[i].baId)\r\n                }\r\n            },\r\n            batchDel: function () {\r\n                var ids = this.avertId.join(',');\r\n                this.advertDel(ids);\r\n            },\r\n            UploadImgSucess: function (response, file, fileList) {\r\n                this.editForm.ba_image = response.url;\r\n            },\r\n            changeType: function (type) {\r\n                if (type == 4) {\r\n                    this.editForm.ba_url = '';\r\n                    this.editForm.ba_admaster_type='';\r\n                    this.editForm.ba_expousre_address = '';\r\n                    this.editFormRules.ba_url = [];\r\n                    this.editFormRules.ba_admaster_type = [];\r\n                    this.editFormRules.ba_expousre_address = [];\r\n                    this.editFormRules.ba_params = [{ required: true, message: '请选择活动id' }]\r\n\r\n                } else if (type == 5) {\r\n                    this.editForm.ba_params = '';\r\n                    this.editFormRules.ba_params = [];\r\n                    this.editFormRules.ba_url = [{ required: true, message: '请填写跳转URL' }];\r\n                    this.editFormRules.ba_admaster_type = [{ required: true, message: '请选择广告类型' }];\r\n                }\r\n            },\r\n            changeAdmasterType: function (type) {\r\n                if (type == 0) {\r\n                    this.editFormRules.ba_expousre_address = [];\r\n                    this.editForm.ba_expousre_address = '';\r\n                } else {\r\n                    this.editFormRules.ba_expousre_address = [{ required: true, message: '请输入输入曝光地址', trigger: 'blur' },];\r\n                }\r\n            },\r\n            advertCurrentChange: function (val) {\r\n                this.pageNum = val;\r\n                this.getAvertList();\r\n            },\r\n            showPreview(index, imgList = this.imgList) {//缩略图预览\r\n                // 获取尺寸\r\n                var _dealList = [];\r\n                var _loadedCount = 0;\r\n                var self = this;\r\n\r\n                imgList.map((item, index) => {\r\n                    var _img = new Image();\r\n                    _img.src = item;\r\n                    _img.onload = function () {\r\n                        _loadedCount++;\r\n                        _dealList.push({\r\n                            src: item,\r\n                            w: _img.width,\r\n                            h: _img.height\r\n                        })\r\n                        if (_loadedCount === imgList.length) {\r\n                            _configPreview();\r\n                        }\r\n                    }\r\n                    _img.onerror = function () {\r\n                        _loadedCount++;\r\n                        _dealList.splice(index, 0, {\r\n                            src: '/static/images/default1.jpg',\r\n                            w: 100,\r\n                            h: 100\r\n                        })\r\n                        if (_loadedCount === imgList.length) {\r\n                            _configPreview();\r\n                        }\r\n                    }\r\n                })\r\n\r\n                function _configPreview() {\r\n                    self.$preview.open(index, _dealList)\r\n                }\r\n            },\r\n            uploadSuccess: function (data) {\r\n                this.editForm.ba_image = this.domain + data;\r\n                console.log(data);\r\n            },\r\n            sizeError: function (data) {\r\n                this.$alert(data, '提示', {\r\n                    confirmButtonText: '确定'\r\n                }).catch(() => { })\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n</script>\r\n<!--<style lang=\"scss\" src=\"./advert.scss\" scoped></style>-->\r\n<style lang=\"scss\" src=\"./advert.scss\" scoped></style>\n\n\n// WEBPACK FOOTER //\n// advertEdit.vue?4a4e15e2"],"sourceRoot":""}