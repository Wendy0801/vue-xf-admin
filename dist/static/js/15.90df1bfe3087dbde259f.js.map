{"version":3,"sources":["webpack:///static/js/15.90df1bfe3087dbde259f.js","webpack:///./src/pages/add-notice/add-notice.scss","webpack:///./src/pages/add-notice/add-notice.scss?3576","webpack:///./src/pages/add-notice/add-notice.vue","webpack:///./src/pages/add-notice/add-notice.vue?0552","webpack:///add-notice.vue"],"names":["webpackJsonp","255","module","exports","__webpack_require__","push","id","version","sources","names","mappings","file","sourcesContent","sourceRoot","301","content","locals","390","Component","448","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","model","noticeForm","rules","label-width","label","prop","directives","name","rawName","value","expression","maxlength","domProps","on","input","$event","noti_title","_v","placeholder","noti_userid","_l","item","ename","eid","noti_url","type","click","submitForm","resetForm","staticRenderFns","719","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","_promise","_promise2","_assign","_assign2","_api","_api2","data","noticeId","prevNoticeInfo","isPushNow","required","message","trigger","authorList","mounted","$route","params","getPrevNoticeInfo","getAuthorList","methods","formName","_this","$refs","validate","valid","editNotice","addNotice","$alert","confirmButtonText","catch","resetFields","_this2","get","ext","noti_id","then","res","code","notiTitle","notiUserid","notiUrl","_this3","post","pageNum","pageSize","list","_this4","_noticeData","$notify","showClose","$router","path","msg","_this5","formatPostData","put","_this6","arguments","length","undefined","resolve"],"mappings":"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","file":"static/js/15.90df1bfe3087dbde259f.js","sourcesContent":["webpackJsonp([15,48],{\n\n/***/ 255:\n/***/ function(module, exports, __webpack_require__) {\n\n\texports = module.exports = __webpack_require__(3)();\n\t// imports\n\t\n\t\n\t// module\n\texports.push([module.id, \".notice-add-container[data-v-dcc12ce6]{padding:40px}.notice-add-inner[data-v-dcc12ce6]{width:80%}\", \"\", {\"version\":3,\"sources\":[\"/./src/pages/add-notice/add-notice.scss\"],\"names\":[],\"mappings\":\"AACA,uCAAuC,YAAY,CAClD,AACD,mCAAmC,SAAS,CAC3C\",\"file\":\"add-notice.scss\",\"sourcesContent\":[\"\\n.notice-add-container[data-v-dcc12ce6]{padding:40px\\n}\\n.notice-add-inner[data-v-dcc12ce6]{width:80%\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\t\n\t// exports\n\n\n/***/ },\n\n/***/ 301:\n/***/ function(module, exports, __webpack_require__) {\n\n\t// style-loader: Adds some css to the DOM by adding a <style> tag\n\t\n\t// load the styles\n\tvar content = __webpack_require__(255);\n\tif(typeof content === 'string') content = [[module.id, content, '']];\n\t// add the styles to the DOM\n\tvar update = __webpack_require__(4)(content, {});\n\tif(content.locals) module.exports = content.locals;\n\t// Hot Module Replacement\n\tif(false) {\n\t\t// When the styles change, update the <style> tags\n\t\tif(!content.locals) {\n\t\t\tmodule.hot.accept(\"!!./../../../node_modules/.0.26.1@css-loader/index.js?sourceMap!./../../../node_modules/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-dcc12ce6&scoped=true!./../../../node_modules/.6.0.0@sass-loader/lib/loader.js?sourceMap!./add-notice.scss\", function() {\n\t\t\t\tvar newContent = require(\"!!./../../../node_modules/.0.26.1@css-loader/index.js?sourceMap!./../../../node_modules/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-dcc12ce6&scoped=true!./../../../node_modules/.6.0.0@sass-loader/lib/loader.js?sourceMap!./add-notice.scss\");\n\t\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\t\tupdate(newContent);\n\t\t\t});\n\t\t}\n\t\t// When the module is disposed, remove the <style> tags\n\t\tmodule.hot.dispose(function() { update(); });\n\t}\n\n/***/ },\n\n/***/ 390:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\n\t/* styles */\n\t__webpack_require__(301)\n\t\n\tvar Component = __webpack_require__(2)(\n\t  /* script */\n\t  __webpack_require__(719),\n\t  /* template */\n\t  __webpack_require__(448),\n\t  /* scopeId */\n\t  \"data-v-dcc12ce6\",\n\t  /* cssModules */\n\t  null\n\t)\n\t\n\tmodule.exports = Component.exports\n\n\n/***/ },\n\n/***/ 448:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"notice-add-container\"\n\t  }, [_c('div', {\n\t    staticClass: \"notice-add-inner\"\n\t  }, [_c('el-form', {\n\t    ref: \"noticeForm\",\n\t    staticClass: \"demo-noticeForm\",\n\t    attrs: {\n\t      \"model\": _vm.noticeForm,\n\t      \"rules\": _vm.rules,\n\t      \"label-width\": \"100px\"\n\t    }\n\t  }, [_c('el-form-item', {\n\t    attrs: {\n\t      \"label\": \"通知标题\",\n\t      \"prop\": \"noti_title\"\n\t    }\n\t  }, [_c('el-input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.noticeForm.noti_title),\n\t      expression: \"noticeForm.noti_title\"\n\t    }],\n\t    attrs: {\n\t      \"maxlength\": 30\n\t    },\n\t    domProps: {\n\t      \"value\": (_vm.noticeForm.noti_title)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        _vm.noticeForm.noti_title = $event\n\t      }\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('el-form-item', {\n\t    attrs: {\n\t      \"label\": \"作者\",\n\t      \"prop\": \"noti_userid\"\n\t    }\n\t  }, [_c('el-select', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.noticeForm.noti_userid),\n\t      expression: \"noticeForm.noti_userid\"\n\t    }],\n\t    attrs: {\n\t      \"placeholder\": \"请选择作者\"\n\t    },\n\t    domProps: {\n\t      \"value\": (_vm.noticeForm.noti_userid)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        _vm.noticeForm.noti_userid = $event\n\t      }\n\t    }\n\t  }, _vm._l((_vm.authorList), function(item) {\n\t    return _c('el-option', {\n\t      attrs: {\n\t        \"label\": item.ename,\n\t        \"value\": item.eid\n\t      }\n\t    })\n\t  }))], 1), _vm._v(\" \"), _c('el-form-item', {\n\t    attrs: {\n\t      \"label\": \"外部URL\",\n\t      \"prop\": \"noti_url\"\n\t    }\n\t  }, [_c('el-input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.noticeForm.noti_url),\n\t      expression: \"noticeForm.noti_url\"\n\t    }],\n\t    attrs: {\n\t      \"placeholder\": \"填写URL后,该文章链接会直接跳转倒对应的URL\"\n\t    },\n\t    domProps: {\n\t      \"value\": (_vm.noticeForm.noti_url)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        _vm.noticeForm.noti_url = $event\n\t      }\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('el-form-item', {\n\t    attrs: {\n\t      \"label\": \"内容编辑\",\n\t      \"prop\": \"content\"\n\t    }\n\t  }, [_c('el-input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.noticeForm.content),\n\t      expression: \"noticeForm.content\"\n\t    }],\n\t    attrs: {\n\t      \"type\": \"textarea\"\n\t    },\n\t    domProps: {\n\t      \"value\": (_vm.noticeForm.content)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        _vm.noticeForm.content = $event\n\t      }\n\t    }\n\t  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n\t    attrs: {\n\t      \"type\": \"primary\"\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.submitForm('noticeForm')\n\t      }\n\t    }\n\t  }, [_vm._v(\"立即创建\")]), _vm._v(\" \"), _c('el-button', {\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.resetForm('noticeForm')\n\t      }\n\t    }\n\t  }, [_vm._v(\"重置\")])], 1)], 1)], 1)])\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 719:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _promise = __webpack_require__(36);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _assign = __webpack_require__(64);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _api = __webpack_require__(5);\n\t\n\tvar _api2 = _interopRequireDefault(_api);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t    data: function data() {\n\t        return {\n\t            noticeId: null,\n\t            prevNoticeInfo: {},\n\t            isPushNow: false,\n\t            noticeForm: {\n\t                noti_title: '',\n\t                content: '',\n\t\n\t                noti_userid: '',\n\t                noti_url: ''\n\t            },\n\t            rules: {\n\t                noti_title: [{ required: true, message: '请输入通知标题', trigger: 'blur' }],\n\t                noti_userid: [{ required: true, message: '请选择作者' }],\n\t                noti_url: [{ required: true, message: '请输入外部Url', trigger: 'blur' }],\n\t                content: [{ required: true, message: '请输入内容', trigger: 'blur' }]\n\t            },\n\t            authorList: []\n\t        };\n\t    },\n\t    mounted: function mounted() {\n\t        this.noticeId = this.$route.params['noticeId'];\n\t        if (this.noticeId) {\n\t            this.getPrevNoticeInfo();\n\t        }\n\t\n\t        this.getAuthorList();\n\t    },\n\t\n\t    methods: {\n\t        submitForm: function submitForm(formName) {\n\t            var _this = this;\n\t\n\t            this.$refs[formName].validate(function (valid) {\n\t                if (valid) {\n\t                    if (_this.noticeId) {\n\t                        _this.editNotice();\n\t                    } else {\n\t                        _this.addNotice();\n\t                    }\n\t                } else {\n\t                    _this.$alert('信息填写不完整!', '提示', {\n\t                        confirmButtonText: '确定'\n\t                    }).catch(function () {});\n\t                    return false;\n\t                }\n\t            });\n\t        },\n\t        resetForm: function resetForm(formName) {\n\t            this.$refs[formName].resetFields();\n\t        },\n\t        getPrevNoticeInfo: function getPrevNoticeInfo() {\n\t            var _this2 = this;\n\t\n\t            _api2.default.get({\n\t                'ext': 'system/notice/read',\n\t                'noti_id': this.noticeId\n\t            }).then(function (res) {\n\t                if (res.data.code === 1) {\n\t                    _this2.noticeForm = {\n\t                        'noti_title': res.data.data.notiTitle,\n\t                        'content': res.data.data.content,\n\t\n\t                        'noti_userid': res.data.data.notiUserid,\n\t                        'noti_url': res.data.data.notiUrl,\n\t                        'noti_id': _this2.noticeId\n\t                    };\n\t                }\n\t            });\n\t        },\n\t        getAuthorList: function getAuthorList() {\n\t            var _this3 = this;\n\t\n\t            _api2.default.post({\n\t                'ext': 'editor/page',\n\t                'pageNum': 1,\n\t                'pageSize': 100\n\t            }).then(function (res) {\n\t                if (res.data.code === 1) {\n\t                    _this3.authorList = res.data.data.list;\n\t                }\n\t            });\n\t        },\n\t        addNotice: function addNotice() {\n\t            var _this4 = this;\n\t\n\t            var _noticeData = (0, _assign2.default)(this.noticeForm, {\n\t                ext: 'system/notice/add'\n\t            });\n\t\n\t            _api2.default.post(_noticeData).then(function (res) {\n\t                if (res.data.code === 1) {\n\t                    _this4.$notify({\n\t                        showClose: true,\n\t                        type: 'success',\n\t                        message: '添加成功!'\n\t                    });\n\t                    _this4.$router.push({ 'path': '/user-notice' });\n\t                } else {\n\t                    _this4.$notify({\n\t                        showClose: true,\n\t                        type: 'error',\n\t                        message: res.data.msg\n\t                    });\n\t                }\n\t            });\n\t        },\n\t        editNotice: function editNotice() {\n\t            var _this5 = this;\n\t\n\t            this.formatPostData('edit').then(function (data) {\n\t                _api2.default.put(data).then(function (res) {\n\t                    if (res.data.code === 1) {\n\t                        _this5.$notify({\n\t                            showClose: true,\n\t                            type: 'success',\n\t                            message: '操作成功!'\n\t                        });\n\t                        _this5.$router.push({ 'path': '/user-notice' });\n\t                    } else {\n\t                        _this5.$notify({\n\t                            showClose: true,\n\t                            type: 'error',\n\t                            message: res.data.msg\n\t                        });\n\t                    }\n\t                });\n\t            });\n\t        },\n\t        formatPostData: function formatPostData() {\n\t            var _this6 = this;\n\t\n\t            var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'add';\n\t\n\t            return new _promise2.default(function (resolve) {\n\t                var _noticeData = (0, _assign2.default)(_this6.noticeForm, {\n\t                    ext: 'system/notice/' + type\n\t                });\n\t\n\t                resolve(_noticeData);\n\t            });\n\t        }\n\t    }\n\t};\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/15.90df1bfe3087dbde259f.js","exports = module.exports = require(\"./../../../node_modules/.0.26.1@css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \".notice-add-container[data-v-dcc12ce6]{padding:40px}.notice-add-inner[data-v-dcc12ce6]{width:80%}\", \"\", {\"version\":3,\"sources\":[\"/./src/pages/add-notice/add-notice.scss\"],\"names\":[],\"mappings\":\"AACA,uCAAuC,YAAY,CAClD,AACD,mCAAmC,SAAS,CAC3C\",\"file\":\"add-notice.scss\",\"sourcesContent\":[\"\\n.notice-add-container[data-v-dcc12ce6]{padding:40px\\n}\\n.notice-add-inner[data-v-dcc12ce6]{width:80%\\n}\\n\"],\"sourceRoot\":\"webpack://\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.0.26.1@css-loader?sourceMap!./~/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-dcc12ce6&scoped=true!./~/.6.0.0@sass-loader/lib/loader.js?sourceMap!./src/pages/add-notice/add-notice.scss\n// module id = 255\n// module chunks = 15","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../node_modules/.0.26.1@css-loader/index.js?sourceMap!./../../../node_modules/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-dcc12ce6&scoped=true!./../../../node_modules/.6.0.0@sass-loader/lib/loader.js?sourceMap!./add-notice.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../node_modules/.1.0.0@vue-style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../node_modules/.0.26.1@css-loader/index.js?sourceMap!./../../../node_modules/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-dcc12ce6&scoped=true!./../../../node_modules/.6.0.0@sass-loader/lib/loader.js?sourceMap!./add-notice.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../../node_modules/.0.26.1@css-loader/index.js?sourceMap!./../../../node_modules/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-dcc12ce6&scoped=true!./../../../node_modules/.6.0.0@sass-loader/lib/loader.js?sourceMap!./add-notice.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.1.0.1@extract-text-webpack-plugin/loader.js?{\"omit\":1,\"extract\":true,\"remove\":true}!./~/.1.0.0@vue-style-loader!./~/.0.26.1@css-loader?sourceMap!./~/.10.3.0@vue-loader/lib/style-rewriter.js?id=data-v-dcc12ce6&scoped=true!./~/.6.0.0@sass-loader/lib/loader.js?sourceMap!./src/pages/add-notice/add-notice.scss\n// module id = 301\n// module chunks = 15","\n/* styles */\nrequire(\"!!./../../../node_modules/.1.0.1@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../../node_modules/.10.3.0@vue-loader/lib/style-rewriter?id=data-v-dcc12ce6&scoped=true!sass-loader?sourceMap!./add-notice.scss\")\n\nvar Component = require(\"!./../../../node_modules/.10.3.0@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!./../../../node_modules/.10.3.0@vue-loader/lib/selector?type=script&index=0!./add-notice.vue\"),\n  /* template */\n  require(\"!!./../../../node_modules/.10.3.0@vue-loader/lib/template-compiler?id=data-v-dcc12ce6!./../../../node_modules/.10.3.0@vue-loader/lib/selector?type=template&index=0!./add-notice.vue\"),\n  /* scopeId */\n  \"data-v-dcc12ce6\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/add-notice/add-notice.vue\n// module id = 390\n// module chunks = 15","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"notice-add-container\"\n  }, [_c('div', {\n    staticClass: \"notice-add-inner\"\n  }, [_c('el-form', {\n    ref: \"noticeForm\",\n    staticClass: \"demo-noticeForm\",\n    attrs: {\n      \"model\": _vm.noticeForm,\n      \"rules\": _vm.rules,\n      \"label-width\": \"100px\"\n    }\n  }, [_c('el-form-item', {\n    attrs: {\n      \"label\": \"通知标题\",\n      \"prop\": \"noti_title\"\n    }\n  }, [_c('el-input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.noticeForm.noti_title),\n      expression: \"noticeForm.noti_title\"\n    }],\n    attrs: {\n      \"maxlength\": 30\n    },\n    domProps: {\n      \"value\": (_vm.noticeForm.noti_title)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.noticeForm.noti_title = $event\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"作者\",\n      \"prop\": \"noti_userid\"\n    }\n  }, [_c('el-select', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.noticeForm.noti_userid),\n      expression: \"noticeForm.noti_userid\"\n    }],\n    attrs: {\n      \"placeholder\": \"请选择作者\"\n    },\n    domProps: {\n      \"value\": (_vm.noticeForm.noti_userid)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.noticeForm.noti_userid = $event\n      }\n    }\n  }, _vm._l((_vm.authorList), function(item) {\n    return _c('el-option', {\n      attrs: {\n        \"label\": item.ename,\n        \"value\": item.eid\n      }\n    })\n  }))], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"外部URL\",\n      \"prop\": \"noti_url\"\n    }\n  }, [_c('el-input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.noticeForm.noti_url),\n      expression: \"noticeForm.noti_url\"\n    }],\n    attrs: {\n      \"placeholder\": \"填写URL后,该文章链接会直接跳转倒对应的URL\"\n    },\n    domProps: {\n      \"value\": (_vm.noticeForm.noti_url)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.noticeForm.noti_url = $event\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', {\n    attrs: {\n      \"label\": \"内容编辑\",\n      \"prop\": \"content\"\n    }\n  }, [_c('el-input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.noticeForm.content),\n      expression: \"noticeForm.content\"\n    }],\n    attrs: {\n      \"type\": \"textarea\"\n    },\n    domProps: {\n      \"value\": (_vm.noticeForm.content)\n    },\n    on: {\n      \"input\": function($event) {\n        _vm.noticeForm.content = $event\n      }\n    }\n  })], 1), _vm._v(\" \"), _c('el-form-item', [_c('el-button', {\n    attrs: {\n      \"type\": \"primary\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.submitForm('noticeForm')\n      }\n    }\n  }, [_vm._v(\"立即创建\")]), _vm._v(\" \"), _c('el-button', {\n    on: {\n      \"click\": function($event) {\n        _vm.resetForm('noticeForm')\n      }\n    }\n  }, [_vm._v(\"重置\")])], 1)], 1)], 1)])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.10.3.0@vue-loader/lib/template-compiler.js?id=data-v-dcc12ce6!./~/.10.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/pages/add-notice/add-notice.vue\n// module id = 448\n// module chunks = 15","<template>\n    <div class=\"notice-add-container\">\n        <div class=\"notice-add-inner\">\n            <el-form :model=\"noticeForm\" :rules=\"rules\" ref=\"noticeForm\" label-width=\"100px\" class=\"demo-noticeForm\">\n                <el-form-item label=\"通知标题\" prop=\"noti_title\">\n                    <el-input v-model=\"noticeForm.noti_title\" :maxlength=\"30\"></el-input>\n                </el-form-item>\n                <el-form-item label=\"作者\" prop=\"noti_userid\">\n                    <el-select v-model=\"noticeForm.noti_userid\" placeholder=\"请选择作者\">\n                        <el-option :label=\"item.ename\" :value=\"item.eid\" v-for=\"item in authorList\"></el-option>\n                    </el-select>\n                </el-form-item>\n                <el-form-item label=\"外部URL\" prop=\"noti_url\">\n                    <el-input v-model=\"noticeForm.noti_url\" placeholder=\"填写URL后,该文章链接会直接跳转倒对应的URL\"></el-input>\n                </el-form-item>\n                <!--<el-form-item label=\"立即推送\" prop=\"isPushNow\">\n                    <el-switch on-text=\"\" off-text=\"\" v-model=\"isPushNow\"></el-switch>\n                </el-form-item>-->\n                <el-form-item label=\"内容编辑\" prop=\"content\">\n                    <el-input type=\"textarea\" v-model=\"noticeForm.content\"></el-input>\n                </el-form-item>\n                <el-form-item>\n                    <el-button type=\"primary\" @click=\"submitForm('noticeForm')\">立即创建</el-button>\n                    <el-button @click=\"resetForm('noticeForm')\">重置</el-button>\n                </el-form-item>\n            </el-form>\n        </div>\n    </div>\n</template>\n<script>\n    import ApiService from 'SERVICES/api.service';\n    export default {\n        data() {\n            return {\n                noticeId: null, // 修改时传入的id\n                prevNoticeInfo: {},\n                isPushNow: false,\n                noticeForm: {\n                    noti_title: '',\n                    content: '',\n                    // push_state: 0,\n                    noti_userid: '',\n                    noti_url: ''\n                },\n                rules: {\n                    noti_title: [\n                        { required: true, message: '请输入通知标题', trigger: 'blur' },\n                    ],\n                    noti_userid:[\n                        { required: true, message: '请选择作者' },\n                    ],\n                    noti_url:[\n                        { required: true, message: '请输入外部Url' ,trigger: 'blur' },\n                    ],\n                    content: [\n                        { required: true, message: '请输入内容', trigger: 'blur' },\n                    ]\n                },\n                authorList: []\n            };\n        },\n        mounted() {\n            this.noticeId = this.$route.params['noticeId'];\n            if (this.noticeId) {\n                this.getPrevNoticeInfo();\n            }\n\n            this.getAuthorList();\n        },\n        methods: {\n            submitForm(formName) {\n                this.$refs[formName].validate((valid) => {\n                    if (valid) {\n                        if (this.noticeId) {\n                            this.editNotice();\n                        }\n                        else {\n                            this.addNotice();\n                        }\n                    } else {\n                         this.$alert('信息填写不完整!', '提示', {\n                            confirmButtonText: '确定'\n                        }).catch(() => { })\n                        return false;\n                    }\n                });\n            },\n            resetForm(formName) {\n                this.$refs[formName].resetFields();\n            },\n            getPrevNoticeInfo() {\n                // this.noticeForm = {\n                //     noti_title: '哈哈哈哈',\n                //     content: '阿斯蒂芬阿凡达哈哈史蒂夫',\n                //     push_state: 0,\n                //     noti_userid: '2',\n                //     noti_url: 'dsafadfasdf'\n                // }\n                ApiService.get({\n                    'ext': 'system/notice/read',\n                    'noti_id': this.noticeId\n                })\n                    .then(res => {\n                        if (res.data.code === 1) {\n                            this.noticeForm = {\n                                'noti_title': res.data.data.notiTitle,\n                                'content': res.data.data.content,\n                                // 'push_state': res.data.data.notiStatus,\n                                'noti_userid': res.data.data.notiUserid,\n                                'noti_url': res.data.data.notiUrl,\n                                'noti_id': this.noticeId\n                            };\n                            // this.isPushNow = this.noticeForm.push_state === 1 ? true : false;\n                        }\n                    })\n            },\n            getAuthorList() {\n                ApiService.post({\n                    'ext': 'editor/page',\n                    'pageNum': 1,\n                    'pageSize': 100\n                })\n                    .then(res => {\n                        if (res.data.code === 1) {\n                            this.authorList = res.data.data.list;\n                        }\n                    })\n            },\n            addNotice() {\n                let _noticeData = Object.assign(this.noticeForm, {\n                    ext: 'system/notice/add'\n                })\n                // this.noticeForm['push_state'] = this.isPushNow ? 1 : 0;\n                ApiService.post(_noticeData)\n                    .then(res => {\n                        if (res.data.code === 1) {\n                            this.$notify({\n                                showClose: true,\n                                type: 'success',\n                                message: '添加成功!'\n                            });\n                            this.$router.push({ 'path': '/user-notice' });\n                        }\n                        else {\n                            this.$notify({\n                                showClose: true,\n                                type: 'error',\n                                message: res.data.msg\n                            })\n                        }\n                    })\n            },\n            editNotice() {\n                this.formatPostData('edit')\n                    .then(data => {\n                        ApiService.put(data)\n                            .then(res => {\n                                if (res.data.code === 1) {\n                                    this.$notify({\n                                        showClose: true,\n                                        type: 'success',\n                                        message: '操作成功!'\n                                    });\n                                    this.$router.push({ 'path': '/user-notice' });\n\n                                } else {\n                                    this.$notify({\n                                        showClose: true,\n                                        type: 'error',\n                                        message: res.data.msg\n                                    })\n                                }\n\n                            })\n                    })\n            },\n            formatPostData(type = 'add') {\n                return new Promise(resolve => {\n                    let _noticeData = Object.assign(this.noticeForm, {\n                        ext: `system/notice/${type}`\n                    })\n                    // this.noticeForm['push_state'] = this.isPushNow ? 1 : 0;\n                    resolve(_noticeData);\n                })\n            }\n        }\n    }\n\n</script>\n<style lang=\"scss\" src=\"./add-notice.scss\" scoped></style>\n\n\n// WEBPACK FOOTER //\n// add-notice.vue?914b2d90"],"sourceRoot":""}